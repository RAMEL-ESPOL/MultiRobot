<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Aruco Ros2: aruco::MarkerDetector Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Aruco Ros2<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacearuco.html">aruco</a></li><li class="navelem"><a class="el" href="classaruco_1_1MarkerDetector.html">MarkerDetector</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classaruco_1_1MarkerDetector-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">aruco::MarkerDetector Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Main class for marker detection.  
 <a href="classaruco_1_1MarkerDetector.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="markerdetector_8h_source.html">markerdetector.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector_1_1MarkerCandidate.html">MarkerCandidate</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a1d6ee5812484ae973ea2638aa054b389"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#a1d6ee5812484ae973ea2638aa054b389">ThresholdMethods</a> { <a class="el" href="classaruco_1_1MarkerDetector.html#a1d6ee5812484ae973ea2638aa054b389abbc9aaab9cd6580cfc292b76bb287fe5">FIXED_THRES</a>
, <a class="el" href="classaruco_1_1MarkerDetector.html#a1d6ee5812484ae973ea2638aa054b389afdbf9cecf1d818516da5701666639c67">ADPT_THRES</a>
, <a class="el" href="classaruco_1_1MarkerDetector.html#a1d6ee5812484ae973ea2638aa054b389a597d69a6a2c7166947ed5c885d63b65c">CANNY</a>
 }</td></tr>
<tr class="separator:a1d6ee5812484ae973ea2638aa054b389"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace0069f60aa5cef25a455be1e3d66dc1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#ace0069f60aa5cef25a455be1e3d66dc1">CornerRefinementMethod</a> { <a class="el" href="classaruco_1_1MarkerDetector.html#ace0069f60aa5cef25a455be1e3d66dc1a818e862759af62704385015cf0ca2239">NONE</a>
, <a class="el" href="classaruco_1_1MarkerDetector.html#ace0069f60aa5cef25a455be1e3d66dc1a96acc78a258cbd0ee75815a114c82367">HARRIS</a>
, <a class="el" href="classaruco_1_1MarkerDetector.html#ace0069f60aa5cef25a455be1e3d66dc1a6a41c357297ab089899bad573f91cc58">SUBPIX</a>
, <a class="el" href="classaruco_1_1MarkerDetector.html#ace0069f60aa5cef25a455be1e3d66dc1a96976a499df924efb6218a01cd226e1f">LINES</a>
 }</td></tr>
<tr class="separator:ace0069f60aa5cef25a455be1e3d66dc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aeb11e4c8d99e619338f9453b03252722"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#aeb11e4c8d99e619338f9453b03252722">MarkerDetector</a> ()</td></tr>
<tr class="memdesc:aeb11e4c8d99e619338f9453b03252722"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#aeb11e4c8d99e619338f9453b03252722">More...</a><br /></td></tr>
<tr class="separator:aeb11e4c8d99e619338f9453b03252722"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafadf4a0b81a7f03e443f0ad79fdf8a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#aafadf4a0b81a7f03e443f0ad79fdf8a9">~MarkerDetector</a> ()</td></tr>
<tr class="memdesc:aafadf4a0b81a7f03e443f0ad79fdf8a9"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#aafadf4a0b81a7f03e443f0ad79fdf8a9">More...</a><br /></td></tr>
<tr class="separator:aafadf4a0b81a7f03e443f0ad79fdf8a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6da81367de2a8468925e1ac1b45760c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#ac6da81367de2a8468925e1ac1b45760c">detect</a> (const cv::Mat &amp;input, std::vector&lt; <a class="el" href="classaruco_1_1Marker.html">Marker</a> &gt; &amp;detectedMarkers, cv::Mat camMatrix=cv::Mat(), cv::Mat distCoeff=cv::Mat(), float markerSizeMeters=-1, bool setYPerpendicular=true)  throw (cv::Exception)</td></tr>
<tr class="memdesc:ac6da81367de2a8468925e1ac1b45760c"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#ac6da81367de2a8468925e1ac1b45760c">More...</a><br /></td></tr>
<tr class="separator:ac6da81367de2a8468925e1ac1b45760c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48c485fdfe357d5283f87628829a65c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#a48c485fdfe357d5283f87628829a65c7">detect</a> (const cv::Mat &amp;input, std::vector&lt; <a class="el" href="classaruco_1_1Marker.html">Marker</a> &gt; &amp;detectedMarkers, <a class="el" href="classaruco_1_1CameraParameters.html">CameraParameters</a> camParams, float markerSizeMeters=-1, bool setYPerpendicular=true)  throw (cv::Exception)</td></tr>
<tr class="memdesc:a48c485fdfe357d5283f87628829a65c7"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#a48c485fdfe357d5283f87628829a65c7">More...</a><br /></td></tr>
<tr class="separator:a48c485fdfe357d5283f87628829a65c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9f4d48cb107559f29a5c594ef6260b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#af9f4d48cb107559f29a5c594ef6260b7">setThresholdMethod</a> (<a class="el" href="classaruco_1_1MarkerDetector.html#a1d6ee5812484ae973ea2638aa054b389">ThresholdMethods</a> m)</td></tr>
<tr class="memdesc:af9f4d48cb107559f29a5c594ef6260b7"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#af9f4d48cb107559f29a5c594ef6260b7">More...</a><br /></td></tr>
<tr class="separator:af9f4d48cb107559f29a5c594ef6260b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b82148fd92145a36f24eb08aea75fb6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classaruco_1_1MarkerDetector.html#a1d6ee5812484ae973ea2638aa054b389">ThresholdMethods</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#a3b82148fd92145a36f24eb08aea75fb6">getThresholdMethod</a> () const</td></tr>
<tr class="memdesc:a3b82148fd92145a36f24eb08aea75fb6"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#a3b82148fd92145a36f24eb08aea75fb6">More...</a><br /></td></tr>
<tr class="separator:a3b82148fd92145a36f24eb08aea75fb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae62e6b62bc82793d640c9c04ff00335c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#ae62e6b62bc82793d640c9c04ff00335c">setThresholdParams</a> (double param1, double param2)</td></tr>
<tr class="memdesc:ae62e6b62bc82793d640c9c04ff00335c"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#ae62e6b62bc82793d640c9c04ff00335c">More...</a><br /></td></tr>
<tr class="separator:ae62e6b62bc82793d640c9c04ff00335c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a3f7889bd057f47425ade483833953d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#a6a3f7889bd057f47425ade483833953d">getThresholdParams</a> (double &amp;param1, double &amp;param2) const</td></tr>
<tr class="memdesc:a6a3f7889bd057f47425ade483833953d"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#a6a3f7889bd057f47425ade483833953d">More...</a><br /></td></tr>
<tr class="separator:a6a3f7889bd057f47425ade483833953d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5d46972fb431b3b147c78bdac2096f3"><td class="memItemLeft" align="right" valign="top">const cv::Mat &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#af5d46972fb431b3b147c78bdac2096f3">getThresholdedImage</a> ()</td></tr>
<tr class="memdesc:af5d46972fb431b3b147c78bdac2096f3"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#af5d46972fb431b3b147c78bdac2096f3">More...</a><br /></td></tr>
<tr class="separator:af5d46972fb431b3b147c78bdac2096f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae46e37f9795c2d95084fab9f46a36a7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#ae46e37f9795c2d95084fab9f46a36a7a">setCornerRefinementMethod</a> (<a class="el" href="classaruco_1_1MarkerDetector.html#ace0069f60aa5cef25a455be1e3d66dc1">CornerRefinementMethod</a> method)</td></tr>
<tr class="memdesc:ae46e37f9795c2d95084fab9f46a36a7a"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#ae46e37f9795c2d95084fab9f46a36a7a">More...</a><br /></td></tr>
<tr class="separator:ae46e37f9795c2d95084fab9f46a36a7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6775c929bb5fc017cceaa1abdb5aca2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classaruco_1_1MarkerDetector.html#ace0069f60aa5cef25a455be1e3d66dc1">CornerRefinementMethod</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#ac6775c929bb5fc017cceaa1abdb5aca2">getCornerRefinementMethod</a> () const</td></tr>
<tr class="memdesc:ac6775c929bb5fc017cceaa1abdb5aca2"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#ac6775c929bb5fc017cceaa1abdb5aca2">More...</a><br /></td></tr>
<tr class="separator:ac6775c929bb5fc017cceaa1abdb5aca2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a759698a524bb93ff3dd2a30dcb7e3d87"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#a759698a524bb93ff3dd2a30dcb7e3d87">setMinMaxSize</a> (float min=0.03, float max=0.5)  throw (cv::Exception)</td></tr>
<tr class="memdesc:a759698a524bb93ff3dd2a30dcb7e3d87"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#a759698a524bb93ff3dd2a30dcb7e3d87">More...</a><br /></td></tr>
<tr class="separator:a759698a524bb93ff3dd2a30dcb7e3d87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79a701055cdccd7816f509c91887fa2b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#a79a701055cdccd7816f509c91887fa2b">getMinMaxSize</a> (float &amp;min, float &amp;max)</td></tr>
<tr class="memdesc:a79a701055cdccd7816f509c91887fa2b"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#a79a701055cdccd7816f509c91887fa2b">More...</a><br /></td></tr>
<tr class="separator:a79a701055cdccd7816f509c91887fa2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85d4908f578ea80f0815b11c912c31e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#a85d4908f578ea80f0815b11c912c31e0">enableErosion</a> (bool enable)</td></tr>
<tr class="memdesc:a85d4908f578ea80f0815b11c912c31e0"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#a85d4908f578ea80f0815b11c912c31e0">More...</a><br /></td></tr>
<tr class="separator:a85d4908f578ea80f0815b11c912c31e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a334888d444947beff4b92b7c37cf4a6a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#a334888d444947beff4b92b7c37cf4a6a">setDesiredSpeed</a> (int val)</td></tr>
<tr class="memdesc:a334888d444947beff4b92b7c37cf4a6a"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#a334888d444947beff4b92b7c37cf4a6a">More...</a><br /></td></tr>
<tr class="separator:a334888d444947beff4b92b7c37cf4a6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7076508d26ba9a3e0606052d2a570bb8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#a7076508d26ba9a3e0606052d2a570bb8">getDesiredSpeed</a> () const</td></tr>
<tr class="memdesc:a7076508d26ba9a3e0606052d2a570bb8"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#a7076508d26ba9a3e0606052d2a570bb8">More...</a><br /></td></tr>
<tr class="separator:a7076508d26ba9a3e0606052d2a570bb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a016caa551b0d14ca74913fa2036d0b5c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#a016caa551b0d14ca74913fa2036d0b5c">setMakerDetectorFunction</a> (int(*markerdetector_func)(const cv::Mat &amp;in, int &amp;nRotations))</td></tr>
<tr class="memdesc:a016caa551b0d14ca74913fa2036d0b5c"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#a016caa551b0d14ca74913fa2036d0b5c">More...</a><br /></td></tr>
<tr class="separator:a016caa551b0d14ca74913fa2036d0b5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a6f10343676f588c64a2978f3091e74"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#a8a6f10343676f588c64a2978f3091e74">pyrDown</a> (unsigned int level)</td></tr>
<tr class="memdesc:a8a6f10343676f588c64a2978f3091e74"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#a8a6f10343676f588c64a2978f3091e74">More...</a><br /></td></tr>
<tr class="separator:a8a6f10343676f588c64a2978f3091e74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c45520746ab01c710b1e6dcc550c0db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#a0c45520746ab01c710b1e6dcc550c0db">thresHold</a> (int method, const cv::Mat &amp;<a class="el" href="classaruco_1_1MarkerDetector.html#a4d67711d5b81e75832dd837401886209">grey</a>, cv::Mat &amp;thresImg, double param1=-1, double param2=-1)  throw (cv::Exception)</td></tr>
<tr class="memdesc:a0c45520746ab01c710b1e6dcc550c0db"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#a0c45520746ab01c710b1e6dcc550c0db">More...</a><br /></td></tr>
<tr class="separator:a0c45520746ab01c710b1e6dcc550c0db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37be5db247987122dbc3e616da47e3e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#a37be5db247987122dbc3e616da47e3e3">detectRectangles</a> (const cv::Mat &amp;thresImg, vector&lt; std::vector&lt; cv::Point2f &gt; &gt; &amp;candidates)</td></tr>
<tr class="memdesc:a37be5db247987122dbc3e616da47e3e3"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#a37be5db247987122dbc3e616da47e3e3">More...</a><br /></td></tr>
<tr class="separator:a37be5db247987122dbc3e616da47e3e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d42fe278bfc251659d4e28796601c2f"><td class="memItemLeft" align="right" valign="top">const vector&lt; std::vector&lt; cv::Point2f &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#a6d42fe278bfc251659d4e28796601c2f">getCandidates</a> ()</td></tr>
<tr class="memdesc:a6d42fe278bfc251659d4e28796601c2f"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#a6d42fe278bfc251659d4e28796601c2f">More...</a><br /></td></tr>
<tr class="separator:a6d42fe278bfc251659d4e28796601c2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedcd73ff274bad9885b3086d3b216b08"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#aedcd73ff274bad9885b3086d3b216b08">warp</a> (cv::Mat &amp;in, cv::Mat &amp;out, cv::Size size, std::vector&lt; cv::Point2f &gt; points)  throw (cv::Exception)</td></tr>
<tr class="memdesc:aedcd73ff274bad9885b3086d3b216b08"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#aedcd73ff274bad9885b3086d3b216b08">More...</a><br /></td></tr>
<tr class="separator:aedcd73ff274bad9885b3086d3b216b08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af81636179989d4eb8489025edf8d6cee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#af81636179989d4eb8489025edf8d6cee">refineCandidateLines</a> (<a class="el" href="classaruco_1_1MarkerDetector_1_1MarkerCandidate.html">MarkerCandidate</a> &amp;candidate)</td></tr>
<tr class="memdesc:af81636179989d4eb8489025edf8d6cee"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#af81636179989d4eb8489025edf8d6cee">More...</a><br /></td></tr>
<tr class="separator:af81636179989d4eb8489025edf8d6cee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a3e0bfae23d10f3e9c3ea4c4de7bea90b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#a3e0bfae23d10f3e9c3ea4c4de7bea90b">glGetProjectionMatrix</a> (<a class="el" href="classaruco_1_1CameraParameters.html">CameraParameters</a> &amp;CamMatrix, cv::Size orgImgSize, cv::Size size, double proj_matrix[16], double gnear, double gfar, bool invert=false)  throw (cv::Exception)</td></tr>
<tr class="memdesc:a3e0bfae23d10f3e9c3ea4c4de7bea90b"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#a3e0bfae23d10f3e9c3ea4c4de7bea90b">More...</a><br /></td></tr>
<tr class="separator:a3e0bfae23d10f3e9c3ea4c4de7bea90b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a2095fdc39ea281d13adcd1f919d24a2f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#a2095fdc39ea281d13adcd1f919d24a2f">warp_cylinder</a> (cv::Mat &amp;in, cv::Mat &amp;out, cv::Size size, <a class="el" href="classaruco_1_1MarkerDetector_1_1MarkerCandidate.html">MarkerCandidate</a> &amp;mc)  throw ( cv::Exception )</td></tr>
<tr class="memdesc:a2095fdc39ea281d13adcd1f919d24a2f"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#a2095fdc39ea281d13adcd1f919d24a2f">More...</a><br /></td></tr>
<tr class="separator:a2095fdc39ea281d13adcd1f919d24a2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a177784637b4527e9981bbde5f5117507"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#a177784637b4527e9981bbde5f5117507">detectRectangles</a> (const cv::Mat &amp;thresImg, vector&lt; <a class="el" href="classaruco_1_1MarkerDetector_1_1MarkerCandidate.html">MarkerCandidate</a> &gt; &amp;candidates)</td></tr>
<tr class="memdesc:a177784637b4527e9981bbde5f5117507"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#a177784637b4527e9981bbde5f5117507">More...</a><br /></td></tr>
<tr class="separator:a177784637b4527e9981bbde5f5117507"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29b5f940d888f76b491dd2b5affac0a7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#a29b5f940d888f76b491dd2b5affac0a7">isInto</a> (cv::Mat &amp;contour, std::vector&lt; cv::Point2f &gt; &amp;b)</td></tr>
<tr class="memdesc:a29b5f940d888f76b491dd2b5affac0a7"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#a29b5f940d888f76b491dd2b5affac0a7">More...</a><br /></td></tr>
<tr class="separator:a29b5f940d888f76b491dd2b5affac0a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a3008d48ede27c2a3f64123ef57b7c5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#a6a3008d48ede27c2a3f64123ef57b7c5">perimeter</a> (std::vector&lt; cv::Point2f &gt; &amp;a)</td></tr>
<tr class="memdesc:a6a3008d48ede27c2a3f64123ef57b7c5"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#a6a3008d48ede27c2a3f64123ef57b7c5">More...</a><br /></td></tr>
<tr class="separator:a6a3008d48ede27c2a3f64123ef57b7c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25bb4af8f8ea17ac41c14541c2387c12"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#a25bb4af8f8ea17ac41c14541c2387c12">findBestCornerInRegion_harris</a> (const cv::Mat &amp;<a class="el" href="classaruco_1_1MarkerDetector.html#a4d67711d5b81e75832dd837401886209">grey</a>, vector&lt; cv::Point2f &gt; &amp;Corners, int blockSize)</td></tr>
<tr class="memdesc:a25bb4af8f8ea17ac41c14541c2387c12"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#a25bb4af8f8ea17ac41c14541c2387c12">More...</a><br /></td></tr>
<tr class="separator:a25bb4af8f8ea17ac41c14541c2387c12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afff23657f5022efef54011546b8c60e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#afff23657f5022efef54011546b8c60e0">interpolate2Dline</a> (const vector&lt; cv::Point &gt; &amp;inPoints, cv::Point3f &amp;outLine)</td></tr>
<tr class="memdesc:afff23657f5022efef54011546b8c60e0"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#afff23657f5022efef54011546b8c60e0">More...</a><br /></td></tr>
<tr class="separator:afff23657f5022efef54011546b8c60e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cfa657029c6398e6d2f6dacf37da354"><td class="memItemLeft" align="right" valign="top">cv::Point2f&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#a4cfa657029c6398e6d2f6dacf37da354">getCrossPoint</a> (const cv::Point3f &amp;line1, const cv::Point3f &amp;line2)</td></tr>
<tr class="memdesc:a4cfa657029c6398e6d2f6dacf37da354"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#a4cfa657029c6398e6d2f6dacf37da354">More...</a><br /></td></tr>
<tr class="separator:a4cfa657029c6398e6d2f6dacf37da354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfe27f2dc4d057ee803ef24b2671d77b"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:adfe27f2dc4d057ee803ef24b2671d77b"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#adfe27f2dc4d057ee803ef24b2671d77b">removeElements</a> (vector&lt; T &gt; &amp;vinout, const vector&lt; bool &gt; &amp;toRemove)</td></tr>
<tr class="memdesc:adfe27f2dc4d057ee803ef24b2671d77b"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#adfe27f2dc4d057ee803ef24b2671d77b">More...</a><br /></td></tr>
<tr class="separator:adfe27f2dc4d057ee803ef24b2671d77b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9146a2fa8d44211ad04945dbc097c09"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#ac9146a2fa8d44211ad04945dbc097c09">drawApproxCurve</a> (cv::Mat &amp;in, std::vector&lt; cv::Point &gt; &amp;approxCurve, cv::Scalar color)</td></tr>
<tr class="memdesc:ac9146a2fa8d44211ad04945dbc097c09"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#ac9146a2fa8d44211ad04945dbc097c09">More...</a><br /></td></tr>
<tr class="separator:ac9146a2fa8d44211ad04945dbc097c09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bb7bf643750654e4f4435605e5d6c60"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#a7bb7bf643750654e4f4435605e5d6c60">drawContour</a> (cv::Mat &amp;in, std::vector&lt; cv::Point &gt; &amp;contour, cv::Scalar)</td></tr>
<tr class="memdesc:a7bb7bf643750654e4f4435605e5d6c60"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#a7bb7bf643750654e4f4435605e5d6c60">More...</a><br /></td></tr>
<tr class="separator:a7bb7bf643750654e4f4435605e5d6c60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d7a1bfe2daf7226fad2c8bec704e04d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#a9d7a1bfe2daf7226fad2c8bec704e04d">drawAllContours</a> (cv::Mat input, std::vector&lt; std::vector&lt; cv::Point &gt; &gt; &amp;contours)</td></tr>
<tr class="memdesc:a9d7a1bfe2daf7226fad2c8bec704e04d"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#a9d7a1bfe2daf7226fad2c8bec704e04d">More...</a><br /></td></tr>
<tr class="separator:a9d7a1bfe2daf7226fad2c8bec704e04d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a351b148668f21c4a6650396d64927eb0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaruco_1_1MarkerDetector.html#a351b148668f21c4a6650396d64927eb0">draw</a> (cv::Mat out, const std::vector&lt; <a class="el" href="classaruco_1_1Marker.html">Marker</a> &gt; &amp;markers)</td></tr>
<tr class="memdesc:a351b148668f21c4a6650396d64927eb0"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classaruco_1_1MarkerDetector.html#a351b148668f21c4a6650396d64927eb0">More...</a><br /></td></tr>
<tr class="separator:a351b148668f21c4a6650396d64927eb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a553912ba834b47dc2be5eb00db09a45f"><td class="memItemLeft" align="right" valign="top"><a id="a553912ba834b47dc2be5eb00db09a45f" name="a553912ba834b47dc2be5eb00db09a45f"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_enableCylinderWarp</b></td></tr>
<tr class="separator:a553912ba834b47dc2be5eb00db09a45f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d9d5280ef63b2fa70afb8ce3f89e1c8"><td class="memItemLeft" align="right" valign="top"><a id="a4d9d5280ef63b2fa70afb8ce3f89e1c8" name="a4d9d5280ef63b2fa70afb8ce3f89e1c8"></a>
<a class="el" href="classaruco_1_1MarkerDetector.html#a1d6ee5812484ae973ea2638aa054b389">ThresholdMethods</a>&#160;</td><td class="memItemRight" valign="bottom"><b>_thresMethod</b></td></tr>
<tr class="separator:a4d9d5280ef63b2fa70afb8ce3f89e1c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc8735a854af013a402ad796aeb42e4e"><td class="memItemLeft" align="right" valign="top"><a id="acc8735a854af013a402ad796aeb42e4e" name="acc8735a854af013a402ad796aeb42e4e"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>_thresParam1</b></td></tr>
<tr class="separator:acc8735a854af013a402ad796aeb42e4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a805f25c325fa30cf42f6f1b6ee40f1a0"><td class="memItemLeft" align="right" valign="top"><a id="a805f25c325fa30cf42f6f1b6ee40f1a0" name="a805f25c325fa30cf42f6f1b6ee40f1a0"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>_thresParam2</b></td></tr>
<tr class="separator:a805f25c325fa30cf42f6f1b6ee40f1a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26dbffecbb478d5e2198da4494345066"><td class="memItemLeft" align="right" valign="top"><a id="a26dbffecbb478d5e2198da4494345066" name="a26dbffecbb478d5e2198da4494345066"></a>
<a class="el" href="classaruco_1_1MarkerDetector.html#ace0069f60aa5cef25a455be1e3d66dc1">CornerRefinementMethod</a>&#160;</td><td class="memItemRight" valign="bottom"><b>_cornerMethod</b></td></tr>
<tr class="separator:a26dbffecbb478d5e2198da4494345066"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a483bf4b430ccd79d2841ed17540fa16f"><td class="memItemLeft" align="right" valign="top"><a id="a483bf4b430ccd79d2841ed17540fa16f" name="a483bf4b430ccd79d2841ed17540fa16f"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>_minSize</b></td></tr>
<tr class="separator:a483bf4b430ccd79d2841ed17540fa16f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a976cf5f634ddab80ba50c4616b35cd14"><td class="memItemLeft" align="right" valign="top"><a id="a976cf5f634ddab80ba50c4616b35cd14" name="a976cf5f634ddab80ba50c4616b35cd14"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>_maxSize</b></td></tr>
<tr class="separator:a976cf5f634ddab80ba50c4616b35cd14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65f05a8ebd1dbfb9b56fba32e2e4f796"><td class="memItemLeft" align="right" valign="top"><a id="a65f05a8ebd1dbfb9b56fba32e2e4f796" name="a65f05a8ebd1dbfb9b56fba32e2e4f796"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_speed</b></td></tr>
<tr class="separator:a65f05a8ebd1dbfb9b56fba32e2e4f796"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e5759f7f1cdfd30cb3f747fab669337"><td class="memItemLeft" align="right" valign="top"><a id="a1e5759f7f1cdfd30cb3f747fab669337" name="a1e5759f7f1cdfd30cb3f747fab669337"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_markerWarpSize</b></td></tr>
<tr class="separator:a1e5759f7f1cdfd30cb3f747fab669337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3534fbcee660e087bbbf972a6ca8cd89"><td class="memItemLeft" align="right" valign="top"><a id="a3534fbcee660e087bbbf972a6ca8cd89" name="a3534fbcee660e087bbbf972a6ca8cd89"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_doErosion</b></td></tr>
<tr class="separator:a3534fbcee660e087bbbf972a6ca8cd89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fda59f95b8b009596027f49a502bbfc"><td class="memItemLeft" align="right" valign="top"><a id="a9fda59f95b8b009596027f49a502bbfc" name="a9fda59f95b8b009596027f49a502bbfc"></a>
vector&lt; std::vector&lt; cv::Point2f &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_candidates</b></td></tr>
<tr class="separator:a9fda59f95b8b009596027f49a502bbfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a922c5bba1739391191622de0b62b59c9"><td class="memItemLeft" align="right" valign="top"><a id="a922c5bba1739391191622de0b62b59c9" name="a922c5bba1739391191622de0b62b59c9"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>pyrdown_level</b></td></tr>
<tr class="separator:a922c5bba1739391191622de0b62b59c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d67711d5b81e75832dd837401886209"><td class="memItemLeft" align="right" valign="top"><a id="a4d67711d5b81e75832dd837401886209" name="a4d67711d5b81e75832dd837401886209"></a>
cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><b>grey</b></td></tr>
<tr class="separator:a4d67711d5b81e75832dd837401886209"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b34f63ac4459452b50f7975efad045a"><td class="memItemLeft" align="right" valign="top"><a id="a9b34f63ac4459452b50f7975efad045a" name="a9b34f63ac4459452b50f7975efad045a"></a>
cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><b>thres</b></td></tr>
<tr class="separator:a9b34f63ac4459452b50f7975efad045a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a501c65be2a65fea777d90851b8122643"><td class="memItemLeft" align="right" valign="top"><a id="a501c65be2a65fea777d90851b8122643" name="a501c65be2a65fea777d90851b8122643"></a>
cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><b>thres2</b></td></tr>
<tr class="separator:a501c65be2a65fea777d90851b8122643"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48cd5deae0b8575030497e0b57b82e7e"><td class="memItemLeft" align="right" valign="top"><a id="a48cd5deae0b8575030497e0b57b82e7e" name="a48cd5deae0b8575030497e0b57b82e7e"></a>
cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><b>reduced</b></td></tr>
<tr class="separator:a48cd5deae0b8575030497e0b57b82e7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9dae9c42a0b3535fb5669bba684db5e"><td class="memItemLeft" align="right" valign="top"><a id="ac9dae9c42a0b3535fb5669bba684db5e" name="ac9dae9c42a0b3535fb5669bba684db5e"></a>
int(*&#160;</td><td class="memItemRight" valign="bottom"><b>markerIdDetector_ptrfunc</b> )(const cv::Mat &amp;in, int &amp;nRotations)</td></tr>
<tr class="separator:ac9dae9c42a0b3535fb5669bba684db5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Main class for marker detection. </p>

<p class="definition">Definition at line <a class="el" href="markerdetector_8h_source.html#l00044">44</a> of file <a class="el" href="markerdetector_8h_source.html">markerdetector.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="ace0069f60aa5cef25a455be1e3d66dc1" name="ace0069f60aa5cef25a455be1e3d66dc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace0069f60aa5cef25a455be1e3d66dc1">&#9670;&nbsp;</a></span>CornerRefinementMethod</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classaruco_1_1MarkerDetector.html#ace0069f60aa5cef25a455be1e3d66dc1">aruco::MarkerDetector::CornerRefinementMethod</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Methods for corner refinement </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ace0069f60aa5cef25a455be1e3d66dc1a818e862759af62704385015cf0ca2239" name="ace0069f60aa5cef25a455be1e3d66dc1a818e862759af62704385015cf0ca2239"></a>NONE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ace0069f60aa5cef25a455be1e3d66dc1a96acc78a258cbd0ee75815a114c82367" name="ace0069f60aa5cef25a455be1e3d66dc1a96acc78a258cbd0ee75815a114c82367"></a>HARRIS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ace0069f60aa5cef25a455be1e3d66dc1a6a41c357297ab089899bad573f91cc58" name="ace0069f60aa5cef25a455be1e3d66dc1a6a41c357297ab089899bad573f91cc58"></a>SUBPIX&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ace0069f60aa5cef25a455be1e3d66dc1a96976a499df924efb6218a01cd226e1f" name="ace0069f60aa5cef25a455be1e3d66dc1a96976a499df924efb6218a01cd226e1f"></a>LINES&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="markerdetector_8h_source.html#l00144">144</a> of file <a class="el" href="markerdetector_8h_source.html">markerdetector.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>{<a class="code" href="classaruco_1_1MarkerDetector.html#ace0069f60aa5cef25a455be1e3d66dc1a818e862759af62704385015cf0ca2239">NONE</a>,<a class="code" href="classaruco_1_1MarkerDetector.html#ace0069f60aa5cef25a455be1e3d66dc1a96acc78a258cbd0ee75815a114c82367">HARRIS</a>,<a class="code" href="classaruco_1_1MarkerDetector.html#ace0069f60aa5cef25a455be1e3d66dc1a6a41c357297ab089899bad573f91cc58">SUBPIX</a>,<a class="code" href="classaruco_1_1MarkerDetector.html#ace0069f60aa5cef25a455be1e3d66dc1a96976a499df924efb6218a01cd226e1f">LINES</a>};</div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_ace0069f60aa5cef25a455be1e3d66dc1a6a41c357297ab089899bad573f91cc58"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#ace0069f60aa5cef25a455be1e3d66dc1a6a41c357297ab089899bad573f91cc58">aruco::MarkerDetector::SUBPIX</a></div><div class="ttdeci">@ SUBPIX</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8h_source.html#l00144">markerdetector.h:144</a></div></div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_ace0069f60aa5cef25a455be1e3d66dc1a818e862759af62704385015cf0ca2239"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#ace0069f60aa5cef25a455be1e3d66dc1a818e862759af62704385015cf0ca2239">aruco::MarkerDetector::NONE</a></div><div class="ttdeci">@ NONE</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8h_source.html#l00144">markerdetector.h:144</a></div></div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_ace0069f60aa5cef25a455be1e3d66dc1a96976a499df924efb6218a01cd226e1f"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#ace0069f60aa5cef25a455be1e3d66dc1a96976a499df924efb6218a01cd226e1f">aruco::MarkerDetector::LINES</a></div><div class="ttdeci">@ LINES</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8h_source.html#l00144">markerdetector.h:144</a></div></div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_ace0069f60aa5cef25a455be1e3d66dc1a96acc78a258cbd0ee75815a114c82367"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#ace0069f60aa5cef25a455be1e3d66dc1a96acc78a258cbd0ee75815a114c82367">aruco::MarkerDetector::HARRIS</a></div><div class="ttdeci">@ HARRIS</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8h_source.html#l00144">markerdetector.h:144</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1d6ee5812484ae973ea2638aa054b389" name="a1d6ee5812484ae973ea2638aa054b389"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d6ee5812484ae973ea2638aa054b389">&#9670;&nbsp;</a></span>ThresholdMethods</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classaruco_1_1MarkerDetector.html#a1d6ee5812484ae973ea2638aa054b389">aruco::MarkerDetector::ThresholdMethods</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This set the type of thresholding methods available </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a1d6ee5812484ae973ea2638aa054b389abbc9aaab9cd6580cfc292b76bb287fe5" name="a1d6ee5812484ae973ea2638aa054b389abbc9aaab9cd6580cfc292b76bb287fe5"></a>FIXED_THRES&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1d6ee5812484ae973ea2638aa054b389afdbf9cecf1d818516da5701666639c67" name="a1d6ee5812484ae973ea2638aa054b389afdbf9cecf1d818516da5701666639c67"></a>ADPT_THRES&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1d6ee5812484ae973ea2638aa054b389a597d69a6a2c7166947ed5c885d63b65c" name="a1d6ee5812484ae973ea2638aa054b389a597d69a6a2c7166947ed5c885d63b65c"></a>CANNY&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="markerdetector_8h_source.html#l00100">100</a> of file <a class="el" href="markerdetector_8h_source.html">markerdetector.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>{<a class="code" href="classaruco_1_1MarkerDetector.html#a1d6ee5812484ae973ea2638aa054b389abbc9aaab9cd6580cfc292b76bb287fe5">FIXED_THRES</a>,<a class="code" href="classaruco_1_1MarkerDetector.html#a1d6ee5812484ae973ea2638aa054b389afdbf9cecf1d818516da5701666639c67">ADPT_THRES</a>,<a class="code" href="classaruco_1_1MarkerDetector.html#a1d6ee5812484ae973ea2638aa054b389a597d69a6a2c7166947ed5c885d63b65c">CANNY</a>};</div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_a1d6ee5812484ae973ea2638aa054b389a597d69a6a2c7166947ed5c885d63b65c"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#a1d6ee5812484ae973ea2638aa054b389a597d69a6a2c7166947ed5c885d63b65c">aruco::MarkerDetector::CANNY</a></div><div class="ttdeci">@ CANNY</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8h_source.html#l00100">markerdetector.h:100</a></div></div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_a1d6ee5812484ae973ea2638aa054b389abbc9aaab9cd6580cfc292b76bb287fe5"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#a1d6ee5812484ae973ea2638aa054b389abbc9aaab9cd6580cfc292b76bb287fe5">aruco::MarkerDetector::FIXED_THRES</a></div><div class="ttdeci">@ FIXED_THRES</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8h_source.html#l00100">markerdetector.h:100</a></div></div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_a1d6ee5812484ae973ea2638aa054b389afdbf9cecf1d818516da5701666639c67"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#a1d6ee5812484ae973ea2638aa054b389afdbf9cecf1d818516da5701666639c67">aruco::MarkerDetector::ADPT_THRES</a></div><div class="ttdeci">@ ADPT_THRES</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8h_source.html#l00100">markerdetector.h:100</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aeb11e4c8d99e619338f9453b03252722" name="aeb11e4c8d99e619338f9453b03252722"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb11e4c8d99e619338f9453b03252722">&#9670;&nbsp;</a></span>MarkerDetector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">aruco::MarkerDetector::MarkerDetector </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >See </p>

<p class="definition">Definition at line <a class="el" href="markerdetector_8cpp_source.html#l00046">46</a> of file <a class="el" href="markerdetector_8cpp_source.html">markerdetector.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>  {</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>    <a class="code" href="classaruco_1_1MarkerDetector.html#a3534fbcee660e087bbbf972a6ca8cd89">_doErosion</a>=<span class="keyword">false</span>;</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>    <a class="code" href="classaruco_1_1MarkerDetector.html#a553912ba834b47dc2be5eb00db09a45f">_enableCylinderWarp</a>=<span class="keyword">false</span>;</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>    <a class="code" href="classaruco_1_1MarkerDetector.html#a4d9d5280ef63b2fa70afb8ce3f89e1c8">_thresMethod</a>=<a class="code" href="classaruco_1_1MarkerDetector.html#a1d6ee5812484ae973ea2638aa054b389afdbf9cecf1d818516da5701666639c67">ADPT_THRES</a>;</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>    <a class="code" href="classaruco_1_1MarkerDetector.html#acc8735a854af013a402ad796aeb42e4e">_thresParam1</a>=<a class="code" href="classaruco_1_1MarkerDetector.html#a805f25c325fa30cf42f6f1b6ee40f1a0">_thresParam2</a>=7;</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>    <a class="code" href="classaruco_1_1MarkerDetector.html#a26dbffecbb478d5e2198da4494345066">_cornerMethod</a>=<a class="code" href="classaruco_1_1MarkerDetector.html#ace0069f60aa5cef25a455be1e3d66dc1a96976a499df924efb6218a01cd226e1f">LINES</a>;</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    <a class="code" href="classaruco_1_1MarkerDetector.html#a1e5759f7f1cdfd30cb3f747fab669337">_markerWarpSize</a>=56;</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>    <a class="code" href="classaruco_1_1MarkerDetector.html#a65f05a8ebd1dbfb9b56fba32e2e4f796">_speed</a>=0;</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>    <a class="code" href="classaruco_1_1MarkerDetector.html#ac9dae9c42a0b3535fb5669bba684db5e">markerIdDetector_ptrfunc</a>=<a class="code" href="classaruco_1_1FiducidalMarkers.html#add9709849669088020ca67b9417e5496">aruco::FiducidalMarkers::detect</a>;</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>    <a class="code" href="classaruco_1_1MarkerDetector.html#a922c5bba1739391191622de0b62b59c9">pyrdown_level</a>=0; <span class="comment">// no image reduction</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>    <a class="code" href="classaruco_1_1MarkerDetector.html#a483bf4b430ccd79d2841ed17540fa16f">_minSize</a>=0.04;</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>    <a class="code" href="classaruco_1_1MarkerDetector.html#a976cf5f634ddab80ba50c4616b35cd14">_maxSize</a>=0.5;</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>  }</div>
<div class="ttc" id="aclassaruco_1_1FiducidalMarkers_html_add9709849669088020ca67b9417e5496"><div class="ttname"><a href="classaruco_1_1FiducidalMarkers.html#add9709849669088020ca67b9417e5496">aruco::FiducidalMarkers::detect</a></div><div class="ttdeci">static int detect(const cv::Mat &amp;in, int &amp;nRotations)</div><div class="ttdef"><b>Definition:</b> <a href="arucofidmarkers_8cpp_source.html#l00405">arucofidmarkers.cpp:405</a></div></div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_a1e5759f7f1cdfd30cb3f747fab669337"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#a1e5759f7f1cdfd30cb3f747fab669337">aruco::MarkerDetector::_markerWarpSize</a></div><div class="ttdeci">int _markerWarpSize</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8h_source.html#l00288">markerdetector.h:288</a></div></div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_a26dbffecbb478d5e2198da4494345066"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#a26dbffecbb478d5e2198da4494345066">aruco::MarkerDetector::_cornerMethod</a></div><div class="ttdeci">CornerRefinementMethod _cornerMethod</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8h_source.html#l00283">markerdetector.h:283</a></div></div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_a3534fbcee660e087bbbf972a6ca8cd89"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#a3534fbcee660e087bbbf972a6ca8cd89">aruco::MarkerDetector::_doErosion</a></div><div class="ttdeci">bool _doErosion</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8h_source.html#l00289">markerdetector.h:289</a></div></div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_a483bf4b430ccd79d2841ed17540fa16f"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#a483bf4b430ccd79d2841ed17540fa16f">aruco::MarkerDetector::_minSize</a></div><div class="ttdeci">float _minSize</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8h_source.html#l00285">markerdetector.h:285</a></div></div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_a4d9d5280ef63b2fa70afb8ce3f89e1c8"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#a4d9d5280ef63b2fa70afb8ce3f89e1c8">aruco::MarkerDetector::_thresMethod</a></div><div class="ttdeci">ThresholdMethods _thresMethod</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8h_source.html#l00279">markerdetector.h:279</a></div></div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_a553912ba834b47dc2be5eb00db09a45f"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#a553912ba834b47dc2be5eb00db09a45f">aruco::MarkerDetector::_enableCylinderWarp</a></div><div class="ttdeci">bool _enableCylinderWarp</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8h_source.html#l00271">markerdetector.h:271</a></div></div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_a65f05a8ebd1dbfb9b56fba32e2e4f796"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#a65f05a8ebd1dbfb9b56fba32e2e4f796">aruco::MarkerDetector::_speed</a></div><div class="ttdeci">int _speed</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8h_source.html#l00287">markerdetector.h:287</a></div></div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_a805f25c325fa30cf42f6f1b6ee40f1a0"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#a805f25c325fa30cf42f6f1b6ee40f1a0">aruco::MarkerDetector::_thresParam2</a></div><div class="ttdeci">double _thresParam2</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8h_source.html#l00281">markerdetector.h:281</a></div></div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_a922c5bba1739391191622de0b62b59c9"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#a922c5bba1739391191622de0b62b59c9">aruco::MarkerDetector::pyrdown_level</a></div><div class="ttdeci">int pyrdown_level</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8h_source.html#l00293">markerdetector.h:293</a></div></div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_a976cf5f634ddab80ba50c4616b35cd14"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#a976cf5f634ddab80ba50c4616b35cd14">aruco::MarkerDetector::_maxSize</a></div><div class="ttdeci">float _maxSize</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8h_source.html#l00285">markerdetector.h:285</a></div></div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_ac9dae9c42a0b3535fb5669bba684db5e"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#ac9dae9c42a0b3535fb5669bba684db5e">aruco::MarkerDetector::markerIdDetector_ptrfunc</a></div><div class="ttdeci">int(* markerIdDetector_ptrfunc)(const cv::Mat &amp;in, int &amp;nRotations)</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8h_source.html#l00297">markerdetector.h:297</a></div></div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_acc8735a854af013a402ad796aeb42e4e"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#acc8735a854af013a402ad796aeb42e4e">aruco::MarkerDetector::_thresParam1</a></div><div class="ttdeci">double _thresParam1</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8h_source.html#l00281">markerdetector.h:281</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classaruco_1_1MarkerDetector_aeb11e4c8d99e619338f9453b03252722_cgraph.png" border="0" usemap="#aclassaruco_1_1MarkerDetector_aeb11e4c8d99e619338f9453b03252722_cgraph" alt=""/></div>
<map name="aclassaruco_1_1MarkerDetector_aeb11e4c8d99e619338f9453b03252722_cgraph" id="aclassaruco_1_1MarkerDetector_aeb11e4c8d99e619338f9453b03252722_cgraph">
<area shape="rect" title=" " alt="" coords="5,39,157,80"/>
<area shape="rect" href="classaruco_1_1FiducidalMarkers.html#add9709849669088020ca67b9417e5496" title=" " alt="" coords="205,39,367,80"/>
<area shape="rect" href="classaruco_1_1FiducidalMarkers.html#a38c71a2c01171ae23f346a90613f31d0" title=" " alt="" coords="415,39,576,80"/>
<area shape="rect" href="classaruco_1_1FiducidalMarkers.html#a60a79890673b9d0c930d807df594715e" title=" " alt="" coords="624,5,785,47"/>
<area shape="rect" href="classaruco_1_1FiducidalMarkers.html#ad80dda43c48261bbf4fb9df7b5323ff7" title=" " alt="" coords="624,71,785,112"/>
</map>
</div>

</div>
</div>
<a id="aafadf4a0b81a7f03e443f0ad79fdf8a9" name="aafadf4a0b81a7f03e443f0ad79fdf8a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafadf4a0b81a7f03e443f0ad79fdf8a9">&#9670;&nbsp;</a></span>~MarkerDetector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">aruco::MarkerDetector::~MarkerDetector </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="markerdetector_8cpp_source.html#l00067">67</a> of file <a class="el" href="markerdetector_8cpp_source.html">markerdetector.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>  {</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span> </div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a48c485fdfe357d5283f87628829a65c7" name="a48c485fdfe357d5283f87628829a65c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48c485fdfe357d5283f87628829a65c7">&#9670;&nbsp;</a></span>detect() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aruco::MarkerDetector::detect </td>
          <td>(</td>
          <td class="paramtype">const cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classaruco_1_1Marker.html">Marker</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>detectedMarkers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classaruco_1_1CameraParameters.html">CameraParameters</a>&#160;</td>
          <td class="paramname"><em>camParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>markerSizeMeters</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>setYPerpendicular</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2">cv::Exception</td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Detects the markers in the image passed</p>
<p >If you provide information about the camera parameters and the size of the marker, then, the extrinsics of the markers are detected</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input</td><td>input color image </td></tr>
    <tr><td class="paramname">detectedMarkers</td><td>output vector with the markers detected </td></tr>
    <tr><td class="paramname">camParams</td><td>Camera parameters </td></tr>
    <tr><td class="paramname">markerSizeMeters</td><td>size of the marker sides expressed in meters </td></tr>
    <tr><td class="paramname">setYPerpendicular</td><td>If set the Y axis will be perpendicular to the surface. Otherwise, it will be the Z axis </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="markerdetector_8cpp_source.html#l00107">107</a> of file <a class="el" href="markerdetector_8cpp_source.html">markerdetector.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>  {</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    <a class="code" href="classaruco_1_1MarkerDetector.html#ac6da81367de2a8468925e1ac1b45760c">detect</a> ( input, detectedMarkers,camParams.CameraMatrix ,camParams.Distorsion,  markerSizeMeters ,setYPerpendicular);</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>  }</div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_ac6da81367de2a8468925e1ac1b45760c"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#ac6da81367de2a8468925e1ac1b45760c">aruco::MarkerDetector::detect</a></div><div class="ttdeci">void detect(const cv::Mat &amp;input, std::vector&lt; Marker &gt; &amp;detectedMarkers, cv::Mat camMatrix=cv::Mat(), cv::Mat distCoeff=cv::Mat(), float markerSizeMeters=-1, bool setYPerpendicular=true)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac6da81367de2a8468925e1ac1b45760c" name="ac6da81367de2a8468925e1ac1b45760c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6da81367de2a8468925e1ac1b45760c">&#9670;&nbsp;</a></span>detect() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aruco::MarkerDetector::detect </td>
          <td>(</td>
          <td class="paramtype">const cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classaruco_1_1Marker.html">Marker</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>detectedMarkers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat&#160;</td>
          <td class="paramname"><em>camMatrix</em> = <code>cv::Mat()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat&#160;</td>
          <td class="paramname"><em>distCoeff</em> = <code>cv::Mat()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>markerSizeMeters</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>setYPerpendicular</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2">cv::Exception</td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Detects the markers in the image passed</p>
<p >If you provide information about the camera parameters and the size of the marker, then, the extrinsics of the markers are detected</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input</td><td>input color image </td></tr>
    <tr><td class="paramname">detectedMarkers</td><td>output vector with the markers detected </td></tr>
    <tr><td class="paramname">camMatrix</td><td>intrinsic camera information. </td></tr>
    <tr><td class="paramname">distCoeff</td><td>camera distorsion coefficient. If set Mat() if is assumed no camera distorion </td></tr>
    <tr><td class="paramname">markerSizeMeters</td><td>size of the marker sides expressed in meters </td></tr>
    <tr><td class="paramname">setYPerpendicular</td><td>If set the Y axis will be perpendicular to the surface. Otherwise, it will be the Z axis </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a177784637b4527e9981bbde5f5117507" name="a177784637b4527e9981bbde5f5117507"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a177784637b4527e9981bbde5f5117507">&#9670;&nbsp;</a></span>detectRectangles() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void aruco::MarkerDetector::detectRectangles </td>
          <td>(</td>
          <td class="paramtype">const cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>thresImg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; <a class="el" href="classaruco_1_1MarkerDetector_1_1MarkerCandidate.html">MarkerCandidate</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>candidates</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Detection of candidates to be markers, i.e., rectangles. This function returns in candidates all the rectangles found in a thresolded image </p>
<p >for each contour, analyze if it is a paralelepiped likely to be the marker</p>
<p >sort the points in anti-clockwise order</p>
<p >remove these elements whise corners are too close to each other</p>

<p class="definition">Definition at line <a class="el" href="markerdetector_8cpp_source.html#l00271">271</a> of file <a class="el" href="markerdetector_8cpp_source.html">markerdetector.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>  {</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>    vector&lt;MarkerCandidate&gt;  MarkerCanditates;</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    <span class="comment">//calcualte the min_max contour sizes</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> minSize=<a class="code" href="classaruco_1_1MarkerDetector.html#a483bf4b430ccd79d2841ed17540fa16f">_minSize</a>*std::max(thresImg.cols,thresImg.rows)*4;</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxSize=<a class="code" href="classaruco_1_1MarkerDetector.html#a976cf5f634ddab80ba50c4616b35cd14">_maxSize</a>*std::max(thresImg.cols,thresImg.rows)*4;</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>    std::vector&lt;std::vector&lt;cv::Point&gt; &gt; contours2;</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    std::vector&lt;cv::Vec4i&gt; hierarchy2;</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span> </div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>    thresImg.copyTo ( <a class="code" href="classaruco_1_1MarkerDetector.html#a501c65be2a65fea777d90851b8122643">thres2</a> );</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    cv::findContours ( <a class="code" href="classaruco_1_1MarkerDetector.html#a501c65be2a65fea777d90851b8122643">thres2</a> , contours2, hierarchy2,CV_RETR_TREE, CV_CHAIN_APPROX_NONE );</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>    vector&lt;Point&gt;  approxCurve;</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span> </div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>    <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;contours2.size();i++ )</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    {</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span> </div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span> </div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>      <span class="comment">//check it is a possible element by first checking is has enough points</span></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>      <span class="keywordflow">if</span> ( minSize&lt; contours2[i].size() &amp;&amp;contours2[i].size()&lt;maxSize  )</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>      {</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>        <span class="comment">//approximate to a poligon</span></div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>        approxPolyDP (  contours2[i]  ,approxCurve , <span class="keywordtype">double</span> ( contours2[i].size() ) *0.05 , <span class="keyword">true</span> );</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>        <span class="comment">//              drawApproxCurve(copy,approxCurve,Scalar(0,0,255));</span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>        <span class="comment">//check that the poligon has 4 points</span></div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>        <span class="keywordflow">if</span> ( approxCurve.size() ==4 )</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>        {</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span> </div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>          <span class="comment">//       drawContour(input,contours2[i],Scalar(255,0,225));</span></div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>          <span class="comment">//          namedWindow(&quot;input&quot;);</span></div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>          <span class="comment">//        imshow(&quot;input&quot;,input);</span></div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>          <span class="comment">//        waitKey(0);</span></div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>          <span class="comment">//and is convex</span></div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>          <span class="keywordflow">if</span> ( isContourConvex ( Mat ( approxCurve ) ) )</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>          {</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>            <span class="comment">//                        drawApproxCurve(input,approxCurve,Scalar(255,0,255));</span></div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>            <span class="comment">//                      //ensure that the   distace between consecutive points is large enough</span></div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>            <span class="keywordtype">float</span> minDist=1e10;</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>            <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j=0;j&lt;4;j++ )</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>            {</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>              <span class="keywordtype">float</span> d= std::sqrt ( ( <span class="keywordtype">float</span> ) ( approxCurve[j].x-approxCurve[ ( j+1 ) %4].x ) * ( approxCurve[j].x-approxCurve[ ( j+1 ) %4].x ) +</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>                                   ( approxCurve[j].y-approxCurve[ ( j+1 ) %4].y ) * ( approxCurve[j].y-approxCurve[ ( j+1 ) %4].y ) );</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>              <span class="comment">//        norm(Mat(approxCurve[i]),Mat(approxCurve[(i+1)%4]));</span></div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>              <span class="keywordflow">if</span> ( d&lt;minDist ) minDist=d;</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>            }</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>            <span class="comment">//check that distance is not very small</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>            <span class="keywordflow">if</span> ( minDist&gt;10 )</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>            {</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>              <span class="comment">//add the points</span></div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>              <span class="comment">//          cout&lt;&lt;&quot;ADDED&quot;&lt;&lt;endl;</span></div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>              MarkerCanditates.push_back ( MarkerCandidate() );</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>              MarkerCanditates.back().idx=i;</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>              <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j=0;j&lt;4;j++ )</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>              {</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>                MarkerCanditates.back().push_back ( Point2f ( approxCurve[j].x,approxCurve[j].y ) );</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>              }</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>            }</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>          }</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>        }</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>      }</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>    }</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span> </div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>    <span class="comment">//                namedWindow(&quot;input&quot;);</span></div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    <span class="comment">//          imshow(&quot;input&quot;,input);</span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>    <span class="comment">//                          waitKey(0);</span></div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span><span class="comment"></span>    valarray&lt;bool&gt; swapped(<span class="keyword">false</span>,MarkerCanditates.size());<span class="comment">//used later</span></div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>    <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;MarkerCanditates.size();i++ )</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>    {</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span> </div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>      <span class="comment">//trace a line between the first and second point.</span></div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>      <span class="comment">//if the thrid point is at the right side, then the points are anti-clockwise</span></div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>      <span class="keywordtype">double</span> dx1 = MarkerCanditates[i][1].x - MarkerCanditates[i][0].x;</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>      <span class="keywordtype">double</span> dy1 =  MarkerCanditates[i][1].y - MarkerCanditates[i][0].y;</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>      <span class="keywordtype">double</span> dx2 = MarkerCanditates[i][2].x - MarkerCanditates[i][0].x;</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>      <span class="keywordtype">double</span> dy2 = MarkerCanditates[i][2].y - MarkerCanditates[i][0].y;</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>      <span class="keywordtype">double</span> o = ( dx1*dy2 )- ( dy1*dx2 );</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span> </div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>      <span class="keywordflow">if</span> ( o  &lt; 0.0 )        <span class="comment">//if the third point is in the left side, then sort in anti-clockwise order</span></div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>      {</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>        swap ( MarkerCanditates[i][1],MarkerCanditates[i][3] );</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>        swapped[i]=<span class="keyword">true</span>;</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>        <span class="comment">//sort the contour points</span></div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>        <span class="comment">//          reverse(MarkerCanditates[i].contour.begin(),MarkerCanditates[i].contour.end());//????</span></div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span> </div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>      }</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>    }</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span> </div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>    <span class="comment">//first detect candidates</span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span> </div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    vector&lt;pair&lt;int,int&gt;  &gt; TooNearCandidates;</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>    <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;MarkerCanditates.size();i++ )</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>    {</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>      <span class="comment">//    cout&lt;&lt;&quot;Marker i=&quot;&lt;&lt;i&lt;&lt;MarkerCanditates[i]&lt;&lt;endl;</span></div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>      <span class="comment">//calculate the average distance of each corner to the nearest corner of the other marker candidate</span></div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>      <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=i+1;j&lt;MarkerCanditates.size();j++ )</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>      {</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>        <span class="keywordtype">float</span> dist=0;</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>        <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> c=0;c&lt;4;c++ )</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>          dist+= sqrt ( ( MarkerCanditates[i][c].x-MarkerCanditates[j][c].x ) * ( MarkerCanditates[i][c].x-MarkerCanditates[j][c].x ) + ( MarkerCanditates[i][c].y-MarkerCanditates[j][c].y ) * ( MarkerCanditates[i][c].y-MarkerCanditates[j][c].y ) );</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>        dist/=4;</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>        <span class="comment">//if distance is too small</span></div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>        <span class="keywordflow">if</span> ( dist&lt; 10 )</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>        {</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>          TooNearCandidates.push_back ( pair&lt;int,int&gt; ( i,j ) );</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>        }</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>      }</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>    }</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span> </div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>    <span class="comment">//mark for removal the element of  the pair with smaller perimeter</span></div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>    valarray&lt;bool&gt; toRemove ( <span class="keyword">false</span>,MarkerCanditates.size() );</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;TooNearCandidates.size();i++ )</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>    {</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>      <span class="keywordflow">if</span> ( <a class="code" href="classaruco_1_1MarkerDetector.html#a6a3008d48ede27c2a3f64123ef57b7c5">perimeter</a> ( MarkerCanditates[TooNearCandidates[i].first ] ) &gt;<a class="code" href="classaruco_1_1MarkerDetector.html#a6a3008d48ede27c2a3f64123ef57b7c5">perimeter</a> ( MarkerCanditates[ TooNearCandidates[i].second] ) )</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>        toRemove[TooNearCandidates[i].second]=<span class="keyword">true</span>;</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>      <span class="keywordflow">else</span> toRemove[TooNearCandidates[i].first]=<span class="keyword">true</span>;</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>    }</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span> </div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>    <span class="comment">//remove the invalid ones</span></div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    <span class="comment">//     removeElements ( MarkerCanditates,toRemove );</span></div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>    <span class="comment">//finally, assign to the remaining candidates the contour</span></div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>    OutMarkerCanditates.reserve(MarkerCanditates.size());</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i=0;i&lt;MarkerCanditates.size();i++) {</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>      <span class="keywordflow">if</span> (!toRemove[i]) {</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>        OutMarkerCanditates.push_back(MarkerCanditates[i]);</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>        OutMarkerCanditates.back().contour=contours2[ MarkerCanditates[i].idx];</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>        <span class="keywordflow">if</span> (swapped[i] &amp;&amp; <a class="code" href="classaruco_1_1MarkerDetector.html#a553912ba834b47dc2be5eb00db09a45f">_enableCylinderWarp</a> )<span class="comment">//if the corners where swapped, it is required to reverse here the points so that they are in the same order</span></div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>          reverse(OutMarkerCanditates.back().contour.begin(),OutMarkerCanditates.back().contour.end());<span class="comment">//????</span></div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>      }</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>    }</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span> </div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>  }</div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_a501c65be2a65fea777d90851b8122643"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#a501c65be2a65fea777d90851b8122643">aruco::MarkerDetector::thres2</a></div><div class="ttdeci">cv::Mat thres2</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8h_source.html#l00295">markerdetector.h:295</a></div></div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_a6a3008d48ede27c2a3f64123ef57b7c5"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#a6a3008d48ede27c2a3f64123ef57b7c5">aruco::MarkerDetector::perimeter</a></div><div class="ttdeci">int perimeter(std::vector&lt; cv::Point2f &gt; &amp;a)</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8cpp_source.html#l00711">markerdetector.cpp:711</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classaruco_1_1MarkerDetector_a177784637b4527e9981bbde5f5117507_cgraph.png" border="0" usemap="#aclassaruco_1_1MarkerDetector_a177784637b4527e9981bbde5f5117507_cgraph" alt=""/></div>
<map name="aclassaruco_1_1MarkerDetector_a177784637b4527e9981bbde5f5117507_cgraph" id="aclassaruco_1_1MarkerDetector_a177784637b4527e9981bbde5f5117507_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,157,47"/>
<area shape="rect" href="classaruco_1_1MarkerDetector.html#a6a3008d48ede27c2a3f64123ef57b7c5" title=" " alt="" coords="205,5,357,47"/>
</map>
</div>

</div>
</div>
<a id="a37be5db247987122dbc3e616da47e3e3" name="a37be5db247987122dbc3e616da47e3e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37be5db247987122dbc3e616da47e3e3">&#9670;&nbsp;</a></span>detectRectangles() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aruco::MarkerDetector::detectRectangles </td>
          <td>(</td>
          <td class="paramtype">const cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>thresImg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; std::vector&lt; cv::Point2f &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>candidates</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Detection of candidates to be markers, i.e., rectangles. This function returns in candidates all the rectangles found in a thresolded image </p>

<p class="definition">Definition at line <a class="el" href="markerdetector_8cpp_source.html#l00261">261</a> of file <a class="el" href="markerdetector_8cpp_source.html">markerdetector.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>  {</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>    vector&lt;MarkerCandidate&gt;  candidates;</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>    <a class="code" href="classaruco_1_1MarkerDetector.html#a37be5db247987122dbc3e616da47e3e3">detectRectangles</a>(thresold,candidates);</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>    <span class="comment">//create the output</span></div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>    MarkerCanditates.resize(candidates.size());</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i=0;i&lt;MarkerCanditates.size();i++)</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>      MarkerCanditates[i]=candidates[i];</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>  }</div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_a37be5db247987122dbc3e616da47e3e3"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#a37be5db247987122dbc3e616da47e3e3">aruco::MarkerDetector::detectRectangles</a></div><div class="ttdeci">void detectRectangles(const cv::Mat &amp;thresImg, vector&lt; std::vector&lt; cv::Point2f &gt; &gt; &amp;candidates)</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8cpp_source.html#l00261">markerdetector.cpp:261</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classaruco_1_1MarkerDetector_a37be5db247987122dbc3e616da47e3e3_cgraph.png" border="0" usemap="#aclassaruco_1_1MarkerDetector_a37be5db247987122dbc3e616da47e3e3_cgraph" alt=""/></div>
<map name="aclassaruco_1_1MarkerDetector_a37be5db247987122dbc3e616da47e3e3_cgraph" id="aclassaruco_1_1MarkerDetector_a37be5db247987122dbc3e616da47e3e3_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,157,71"/>
</map>
</div>

</div>
</div>
<a id="a351b148668f21c4a6650396d64927eb0" name="a351b148668f21c4a6650396d64927eb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a351b148668f21c4a6650396d64927eb0">&#9670;&nbsp;</a></span>draw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void aruco::MarkerDetector::draw </td>
          <td>(</td>
          <td class="paramtype">cv::Mat&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classaruco_1_1Marker.html">Marker</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>markers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="markerdetector_8cpp_source.html#l00947">947</a> of file <a class="el" href="markerdetector_8cpp_source.html">markerdetector.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>  {</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>    <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> i=0;i&lt;markers.size();++i )</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>    {</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>      cv::line ( out,markers[i][0],markers[i][1],cvScalar ( 255,0,0 ),2,CV_AA );</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>      cv::line ( out,markers[i][1],markers[i][2],cvScalar ( 255,0,0 ),2,CV_AA );</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>      cv::line ( out,markers[i][2],markers[i][3],cvScalar ( 255,0,0 ),2,CV_AA );</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>      cv::line ( out,markers[i][3],markers[i][0],cvScalar ( 255,0,0 ),2,CV_AA );</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>    }</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9d7a1bfe2daf7226fad2c8bec704e04d" name="a9d7a1bfe2daf7226fad2c8bec704e04d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d7a1bfe2daf7226fad2c8bec704e04d">&#9670;&nbsp;</a></span>drawAllContours()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void aruco::MarkerDetector::drawAllContours </td>
          <td>(</td>
          <td class="paramtype">cv::Mat&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::vector&lt; cv::Point &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>contours</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="markerdetector_8cpp_source.html#l00914">914</a> of file <a class="el" href="markerdetector_8cpp_source.html">markerdetector.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>  {</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>    drawContours ( input,  contours, -1,Scalar ( 255,0,255 ) );</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac9146a2fa8d44211ad04945dbc097c09" name="ac9146a2fa8d44211ad04945dbc097c09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9146a2fa8d44211ad04945dbc097c09">&#9670;&nbsp;</a></span>drawApproxCurve()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void aruco::MarkerDetector::drawApproxCurve </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::Point &gt; &amp;&#160;</td>
          <td class="paramname"><em>approxCurve</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Scalar&#160;</td>
          <td class="paramname"><em>color</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="markerdetector_8cpp_source.html#l00933">933</a> of file <a class="el" href="markerdetector_8cpp_source.html">markerdetector.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>  {</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>    <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> i=0;i&lt;contour.size();++i )</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>    {</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>      cv::line ( in,contour[i],contour[ ( i+1 ) %contour.size() ],color );</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>    }</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7bb7bf643750654e4f4435605e5d6c60" name="a7bb7bf643750654e4f4435605e5d6c60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bb7bf643750654e4f4435605e5d6c60">&#9670;&nbsp;</a></span>drawContour()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void aruco::MarkerDetector::drawContour </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::Point &gt; &amp;&#160;</td>
          <td class="paramname"><em>contour</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Scalar&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="markerdetector_8cpp_source.html#l00925">925</a> of file <a class="el" href="markerdetector_8cpp_source.html">markerdetector.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>  {</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>    <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> i=0;i&lt;contour.size();++i )</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>    {</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>      cv::rectangle ( in,contour[i],contour[i],color );</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>    }</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a85d4908f578ea80f0815b11c912c31e0" name="a85d4908f578ea80f0815b11c912c31e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85d4908f578ea80f0815b11c912c31e0">&#9670;&nbsp;</a></span>enableErosion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void aruco::MarkerDetector::enableErosion </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Enables/Disables erosion process that is REQUIRED for chessboard like boards. By default, this property is enabled </p>

<p class="definition">Definition at line <a class="el" href="markerdetector_8h_source.html#l00173">173</a> of file <a class="el" href="markerdetector_8h_source.html">markerdetector.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>{<a class="code" href="classaruco_1_1MarkerDetector.html#a3534fbcee660e087bbbf972a6ca8cd89">_doErosion</a>=enable;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a25bb4af8f8ea17ac41c14541c2387c12" name="a25bb4af8f8ea17ac41c14541c2387c12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25bb4af8f8ea17ac41c14541c2387c12">&#9670;&nbsp;</a></span>findBestCornerInRegion_harris()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void aruco::MarkerDetector::findBestCornerInRegion_harris </td>
          <td>(</td>
          <td class="paramtype">const cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>grey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; cv::Point2f &gt; &amp;&#160;</td>
          <td class="paramname"><em>Corners</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>blockSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="markerdetector_8cpp_source.html#l00727">727</a> of file <a class="el" href="markerdetector_8cpp_source.html">markerdetector.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>  {</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>    <span class="keywordtype">int</span> halfSize=blockSize/2;</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>    <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> i=0;i&lt;Corners.size();i++ )</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>    {</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>      <span class="comment">//check that the region is into the image limits</span></div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>      cv::Point2f min ( Corners[i].x-halfSize,Corners[i].y-halfSize );</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>      cv::Point2f max ( Corners[i].x+halfSize,Corners[i].y+halfSize );</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>      <span class="keywordflow">if</span> ( min.x&gt;=0  &amp;&amp;  min.y&gt;=0 &amp;&amp; max.x&lt;grey_m.cols &amp;&amp; max.y&lt;grey_m.rows )</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>      {</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>        cv::Mat response;</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>        cv::Mat subImage ( grey_m,cv::Rect ( Corners[i].x-halfSize,Corners[i].y-halfSize,blockSize ,blockSize ) );</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>        vector&lt;Point2f&gt; corners2;</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>        goodFeaturesToTrack ( subImage, corners2, 10, 0.001, halfSize );</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>        <span class="keywordtype">float</span> minD=9999;</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>        <span class="keywordtype">int</span> bIdx=-1;</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>        cv::Point2f Center ( halfSize,halfSize );</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>        <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> j=0;j&lt;corners2.size();j++ )</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>        {</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>          <span class="keywordtype">float</span> dist=cv::norm ( corners2[j]-Center );</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>          <span class="keywordflow">if</span> ( dist&lt;minD )</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>          {</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>            minD=dist;</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>            bIdx=j;</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>          }</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>          <span class="keywordflow">if</span> ( minD&lt;halfSize ) Corners[i]+= ( corners2[bIdx]-Center );</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>        }</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>      }</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>    }</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6d42fe278bfc251659d4e28796601c2f" name="a6d42fe278bfc251659d4e28796601c2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d42fe278bfc251659d4e28796601c2f">&#9670;&nbsp;</a></span>getCandidates()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const vector&lt;std::vector&lt;cv::Point2f&gt; &gt;&amp; aruco::MarkerDetector::getCandidates </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Returns a list candidates to be markers (rectangles), for which no valid id was found after calling detectRectangles </p>

<p class="definition">Definition at line <a class="el" href="markerdetector_8h_source.html#l00233">233</a> of file <a class="el" href="markerdetector_8h_source.html">markerdetector.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>                                                         {</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>        <span class="keywordflow">return</span> <a class="code" href="classaruco_1_1MarkerDetector.html#a9fda59f95b8b009596027f49a502bbfc">_candidates</a>;</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    }</div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_a9fda59f95b8b009596027f49a502bbfc"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#a9fda59f95b8b009596027f49a502bbfc">aruco::MarkerDetector::_candidates</a></div><div class="ttdeci">vector&lt; std::vector&lt; cv::Point2f &gt; &gt; _candidates</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8h_source.html#l00291">markerdetector.h:291</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac6775c929bb5fc017cceaa1abdb5aca2" name="ac6775c929bb5fc017cceaa1abdb5aca2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6775c929bb5fc017cceaa1abdb5aca2">&#9670;&nbsp;</a></span>getCornerRefinementMethod()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classaruco_1_1MarkerDetector.html#ace0069f60aa5cef25a455be1e3d66dc1">CornerRefinementMethod</a> aruco::MarkerDetector::getCornerRefinementMethod </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="markerdetector_8h_source.html#l00152">152</a> of file <a class="el" href="markerdetector_8h_source.html">markerdetector.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>                                                            {</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>        <span class="keywordflow">return</span> <a class="code" href="classaruco_1_1MarkerDetector.html#a26dbffecbb478d5e2198da4494345066">_cornerMethod</a>;</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4cfa657029c6398e6d2f6dacf37da354" name="a4cfa657029c6398e6d2f6dacf37da354"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cfa657029c6398e6d2f6dacf37da354">&#9670;&nbsp;</a></span>getCrossPoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Point2f aruco::MarkerDetector::getCrossPoint </td>
          <td>(</td>
          <td class="paramtype">const cv::Point3f &amp;&#160;</td>
          <td class="paramname"><em>line1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const cv::Point3f &amp;&#160;</td>
          <td class="paramname"><em>line2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="markerdetector_8cpp_source.html#l00879">879</a> of file <a class="el" href="markerdetector_8cpp_source.html">markerdetector.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>  {</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span> </div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>    <span class="comment">// create matrices of equation system</span></div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>    Mat A(2,2,CV_32FC1, Scalar(0));</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>    Mat B(2,1,CV_32FC1, Scalar(0));</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>    Mat X;</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span> </div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>    A.at&lt;<span class="keywordtype">float</span>&gt;(0, 0) = line1.x;</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>    A.at&lt;<span class="keywordtype">float</span>&gt;(0, 1) = line1.y;</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>    B.at&lt;<span class="keywordtype">float</span>&gt;(0, 0) = -line1.z;</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span> </div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>    A.at&lt;<span class="keywordtype">float</span>&gt;(1, 0) = line2.x;</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>    A.at&lt;<span class="keywordtype">float</span>&gt;(1, 1) = line2.y;</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>    B.at&lt;<span class="keywordtype">float</span>&gt;(1, 0) = -line2.z;</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span> </div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>    <span class="comment">// solve system</span></div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>    solve(A,B,X, DECOMP_SVD);</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>    <span class="keywordflow">return</span> Point2f(X.at&lt;<span class="keywordtype">float</span>&gt;(0,0), X.at&lt;<span class="keywordtype">float</span>&gt;(1,0));</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span> </div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7076508d26ba9a3e0606052d2a570bb8" name="a7076508d26ba9a3e0606052d2a570bb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7076508d26ba9a3e0606052d2a570bb8">&#9670;&nbsp;</a></span>getDesiredSpeed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int aruco::MarkerDetector::getDesiredSpeed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="markerdetector_8h_source.html#l00185">185</a> of file <a class="el" href="markerdetector_8h_source.html">markerdetector.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>                               {</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>        <span class="keywordflow">return</span> <a class="code" href="classaruco_1_1MarkerDetector.html#a65f05a8ebd1dbfb9b56fba32e2e4f796">_speed</a>;</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a79a701055cdccd7816f509c91887fa2b" name="a79a701055cdccd7816f509c91887fa2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79a701055cdccd7816f509c91887fa2b">&#9670;&nbsp;</a></span>getMinMaxSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void aruco::MarkerDetector::getMinMaxSize </td>
          <td>(</td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >reads the min and max sizes employed </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">min</td><td>output size of the contour to consider a possible marker as valid (0,1] </td></tr>
    <tr><td class="paramname">max</td><td>output size of the contour to consider a possible marker as valid [0,1) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="markerdetector_8h_source.html#l00168">168</a> of file <a class="el" href="markerdetector_8h_source.html">markerdetector.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>{min=<a class="code" href="classaruco_1_1MarkerDetector.html#a483bf4b430ccd79d2841ed17540fa16f">_minSize</a>;max=<a class="code" href="classaruco_1_1MarkerDetector.html#a976cf5f634ddab80ba50c4616b35cd14">_maxSize</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af5d46972fb431b3b147c78bdac2096f3" name="af5d46972fb431b3b147c78bdac2096f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5d46972fb431b3b147c78bdac2096f3">&#9670;&nbsp;</a></span>getThresholdedImage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const cv::Mat&amp; aruco::MarkerDetector::getThresholdedImage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Returns a reference to the internal image thresholded. It is for visualization purposes and to adjust manually the parameters </p>

<p class="definition">Definition at line <a class="el" href="markerdetector_8h_source.html#l00139">139</a> of file <a class="el" href="markerdetector_8h_source.html">markerdetector.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>                                        {</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>        <span class="keywordflow">return</span> <a class="code" href="classaruco_1_1MarkerDetector.html#a9b34f63ac4459452b50f7975efad045a">thres</a>;</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    }</div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_a9b34f63ac4459452b50f7975efad045a"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#a9b34f63ac4459452b50f7975efad045a">aruco::MarkerDetector::thres</a></div><div class="ttdeci">cv::Mat thres</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8h_source.html#l00295">markerdetector.h:295</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3b82148fd92145a36f24eb08aea75fb6" name="a3b82148fd92145a36f24eb08aea75fb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b82148fd92145a36f24eb08aea75fb6">&#9670;&nbsp;</a></span>getThresholdMethod()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classaruco_1_1MarkerDetector.html#a1d6ee5812484ae973ea2638aa054b389">ThresholdMethods</a> aruco::MarkerDetector::getThresholdMethod </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Returns the current threshold method </p>

<p class="definition">Definition at line <a class="el" href="markerdetector_8h_source.html#l00111">111</a> of file <a class="el" href="markerdetector_8h_source.html">markerdetector.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>                                               {</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>        <span class="keywordflow">return</span> <a class="code" href="classaruco_1_1MarkerDetector.html#a4d9d5280ef63b2fa70afb8ce3f89e1c8">_thresMethod</a>;</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6a3f7889bd057f47425ade483833953d" name="a6a3f7889bd057f47425ade483833953d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a3f7889bd057f47425ade483833953d">&#9670;&nbsp;</a></span>getThresholdParams()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void aruco::MarkerDetector::getThresholdParams </td>
          <td>(</td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>param1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>param2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Set the parameters of the threshold method We are currently using the Adptive threshold ee opencv doc of adaptiveThreshold for more info param1: blockSize of the pixel neighborhood that is used to calculate a threshold value for the pixel param2: The constant subtracted from the mean or weighted mean </p>

<p class="definition">Definition at line <a class="el" href="markerdetector_8h_source.html#l00130">130</a> of file <a class="el" href="markerdetector_8h_source.html">markerdetector.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>                                                                {</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>        param1=<a class="code" href="classaruco_1_1MarkerDetector.html#acc8735a854af013a402ad796aeb42e4e">_thresParam1</a>;</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>        param2=<a class="code" href="classaruco_1_1MarkerDetector.html#a805f25c325fa30cf42f6f1b6ee40f1a0">_thresParam2</a>;</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3e0bfae23d10f3e9c3ea4c4de7bea90b" name="a3e0bfae23d10f3e9c3ea4c4de7bea90b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e0bfae23d10f3e9c3ea4c4de7bea90b">&#9670;&nbsp;</a></span>glGetProjectionMatrix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void aruco::MarkerDetector::glGetProjectionMatrix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classaruco_1_1CameraParameters.html">CameraParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>CamMatrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Size&#160;</td>
          <td class="paramname"><em>orgImgSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Size&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>proj_matrix</em>[16], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>gnear</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>gfar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>invert</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2">cv::Exception</td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >DEPRECATED!!! Use the member function in <a class="el" href="classaruco_1_1CameraParameters.html" title="Parameters of the camera.">CameraParameters</a></p>
<p >Given the intrinsic camera parameters returns the GL_PROJECTION matrix for opengl. PLease NOTE that when using OpenGL, it is assumed no camera distorsion! So, if it is not true, you should have undistor image</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">CamMatrix</td><td>arameters of the camera specified. </td></tr>
    <tr><td class="paramname">orgImgSize</td><td>size of the original image </td></tr>
    <tr><td class="paramname">size</td><td>of the image/window where to render (can be different from the real camera image). Please not that it must be related to CamMatrix </td></tr>
    <tr><td class="paramname">proj_matrix</td><td>output projection matrix to give to opengl </td></tr>
    <tr><td class="paramname">gnear,gfar</td><td>visible rendering range </td></tr>
    <tr><td class="paramname">invert</td><td>indicates if the output projection matrix has to yield a horizontally inverted image because image data has not been stored in the order of glDrawPixels: bottom-to-top. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="markerdetector_8cpp_source.html#l00989">989</a> of file <a class="el" href="markerdetector_8cpp_source.html">markerdetector.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>  {</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>    cerr&lt;&lt;<span class="stringliteral">&quot;MarkerDetector::glGetProjectionMatrix . This a deprecated function. Use CameraParameters::glGetProjectionMatrix instead. &quot;</span>&lt;&lt;__FILE__&lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt;__LINE__&lt;&lt;endl;</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>    CamMatrix.glGetProjectionMatrix ( orgImgSize,size,proj_matrix,gnear,gfar,invert );</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="afff23657f5022efef54011546b8c60e0" name="afff23657f5022efef54011546b8c60e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afff23657f5022efef54011546b8c60e0">&#9670;&nbsp;</a></span>interpolate2Dline()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void aruco::MarkerDetector::interpolate2Dline </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; cv::Point &gt; &amp;&#160;</td>
          <td class="paramname"><em>inPoints</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Point3f &amp;&#160;</td>
          <td class="paramname"><em>outLine</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="markerdetector_8cpp_source.html#l00824">824</a> of file <a class="el" href="markerdetector_8cpp_source.html">markerdetector.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>  {</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span> </div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>    <span class="keywordtype">float</span> minX, maxX, minY, maxY;</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>    minX = maxX = inPoints[0].x;</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>    minY = maxY = inPoints[0].y;</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=1; i&lt;inPoints.size(); ++i)  {</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>      <span class="keywordflow">if</span>(inPoints[i].x &lt; minX) minX = inPoints[i].x;</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>      <span class="keywordflow">if</span>(inPoints[i].x &gt; maxX) maxX = inPoints[i].x;</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>      <span class="keywordflow">if</span>(inPoints[i].y &lt; minY) minY = inPoints[i].y;</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>      <span class="keywordflow">if</span>(inPoints[i].y &gt; maxY) maxY = inPoints[i].y;</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>    }</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span> </div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>    <span class="comment">// create matrices of equation system</span></div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>    Mat A(inPoints.size(),2,CV_32FC1, Scalar(0));</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>    Mat B(inPoints.size(),1,CV_32FC1, Scalar(0));</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>    Mat X;</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span> </div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>    </div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>    </div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>    <span class="keywordflow">if</span>( maxX-minX &gt; maxY-minY ) {</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>      <span class="comment">// Ax + C = y</span></div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i=0; i&lt;inPoints.size(); ++i) {</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span> </div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>        A.at&lt;<span class="keywordtype">float</span>&gt;(i, 0) = inPoints[i].x;</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>        A.at&lt;<span class="keywordtype">float</span>&gt;(i, 1) = 1.;</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>        B.at&lt;<span class="keywordtype">float</span>&gt;(i, 0) = inPoints[i].y;</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span> </div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>      }</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span> </div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>      <span class="comment">// solve system</span></div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>      solve(A,B,X, DECOMP_SVD);</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>      <span class="comment">// return Ax + By + C</span></div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>      outLine = Point3f(X.at&lt;<span class="keywordtype">float</span>&gt;(0,0), -1., X.at&lt;<span class="keywordtype">float</span>&gt;(1,0));</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>    }</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>      <span class="comment">// By + C = x</span></div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i=0; i&lt;inPoints.size(); ++i) {</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span> </div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>        A.at&lt;<span class="keywordtype">float</span>&gt;(i, 0) = inPoints[i].y;</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>        A.at&lt;<span class="keywordtype">float</span>&gt;(i, 1) = 1.;</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>        B.at&lt;<span class="keywordtype">float</span>&gt;(i, 0) = inPoints[i].x;</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span> </div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>      }</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span> </div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>      <span class="comment">// solve system</span></div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>      solve(A,B,X, DECOMP_SVD);</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>      <span class="comment">// return Ax + By + C</span></div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>      outLine = Point3f(-1., X.at&lt;<span class="keywordtype">float</span>&gt;(0,0), X.at&lt;<span class="keywordtype">float</span>&gt;(1,0));</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>    }</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span> </div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a29b5f940d888f76b491dd2b5affac0a7" name="a29b5f940d888f76b491dd2b5affac0a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29b5f940d888f76b491dd2b5affac0a7">&#9670;&nbsp;</a></span>isInto()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool aruco::MarkerDetector::isInto </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>contour</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::Point2f &gt; &amp;&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="markerdetector_8cpp_source.html#l00698">698</a> of file <a class="el" href="markerdetector_8cpp_source.html">markerdetector.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>  {</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span> </div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>    <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> i=0;i&lt;b.size();i++ )</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>      <span class="keywordflow">if</span> ( pointPolygonTest ( contour,b[i],<span class="keyword">false</span> ) &gt;0 ) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6a3008d48ede27c2a3f64123ef57b7c5" name="a6a3008d48ede27c2a3f64123ef57b7c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a3008d48ede27c2a3f64123ef57b7c5">&#9670;&nbsp;</a></span>perimeter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int aruco::MarkerDetector::perimeter </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; cv::Point2f &gt; &amp;&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="markerdetector_8cpp_source.html#l00711">711</a> of file <a class="el" href="markerdetector_8cpp_source.html">markerdetector.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>  {</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>    <span class="keywordtype">int</span> sum=0;</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>    <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> i=0;i&lt;a.size();i++ )</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>    {</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>      <span class="keywordtype">int</span> i2= ( i+1 ) %a.size();</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>      sum+= sqrt ( ( a[i].x-a[i2].x ) * ( a[i].x-a[i2].x ) + ( a[i].y-a[i2].y ) * ( a[i].y-a[i2].y ) ) ;</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>    }</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>    <span class="keywordflow">return</span> sum;</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8a6f10343676f588c64a2978f3091e74" name="a8a6f10343676f588c64a2978f3091e74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a6f10343676f588c64a2978f3091e74">&#9670;&nbsp;</a></span>pyrDown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void aruco::MarkerDetector::pyrDown </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Use an smaller version of the input image for marker detection. If your marker is small enough, you can employ an smaller image to perform the detection without noticeable reduction in the precision. Internally, we are performing a pyrdown operation</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>number of times the image size is divided by 2. Internally, we are performing a pyrdown. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="markerdetector_8h_source.html#l00214">214</a> of file <a class="el" href="markerdetector_8h_source.html">markerdetector.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>{<a class="code" href="classaruco_1_1MarkerDetector.html#a922c5bba1739391191622de0b62b59c9">pyrdown_level</a>=level;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af81636179989d4eb8489025edf8d6cee" name="af81636179989d4eb8489025edf8d6cee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af81636179989d4eb8489025edf8d6cee">&#9670;&nbsp;</a></span>refineCandidateLines()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aruco::MarkerDetector::refineCandidateLines </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classaruco_1_1MarkerDetector_1_1MarkerCandidate.html">MarkerDetector::MarkerCandidate</a> &amp;&#160;</td>
          <td class="paramname"><em>candidate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Refine <a class="el" href="classaruco_1_1MarkerDetector_1_1MarkerCandidate.html">MarkerCandidate</a> Corner using LINES method </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">candidate</td><td>candidate to refine corners </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="markerdetector_8cpp_source.html#l00763">763</a> of file <a class="el" href="markerdetector_8cpp_source.html">markerdetector.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>  {</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>    <span class="comment">// search corners on the contour vector</span></div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>    vector&lt;size_t&gt; cornerIndex;</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>    cornerIndex.resize(4);</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>    <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> j=0; j&lt;candidate.contour.size(); ++j) {</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>      <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> k=0; k&lt;4; ++k) {</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span><span class="preprocessor">#pragma GCC diagnostic push</span></div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span><span class="preprocessor">#pragma GCC diagnostic ignored &quot;-Wfloat-equal&quot;</span></div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>        <span class="keywordflow">if</span>(candidate.contour[j].x==candidate[k].x &amp;&amp; candidate.contour[j].y==candidate[k].y) {</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>          cornerIndex[k] = j;</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>        }</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span><span class="preprocessor">#pragma GCC diagnostic pop </span></div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>      }</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>    }</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span> </div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>    <span class="comment">// contour pixel in inverse order or not?</span></div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>    <span class="keywordtype">bool</span> inverse;</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>    <span class="keywordflow">if</span>( (cornerIndex[1] &gt; cornerIndex[0]) &amp;&amp; (cornerIndex[2]&gt;cornerIndex[1] || cornerIndex[2]&lt;cornerIndex[0]) )</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>      inverse = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>( cornerIndex[2]&gt;cornerIndex[1] &amp;&amp; cornerIndex[2]&lt;cornerIndex[0] )</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>      inverse = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>    <span class="keywordflow">else</span> inverse = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span> </div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span> </div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>    <span class="comment">// get pixel vector for each line of the marker</span></div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>    <span class="keywordtype">int</span> inc = 1;</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>    <span class="keywordflow">if</span>(inverse) inc = -1;</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span> </div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>    vector&lt;std::vector&lt;cv::Point&gt; &gt; contourLines;</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>    contourLines.resize(4);</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l=0; l&lt;4; ++l) {</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=(<span class="keywordtype">int</span>)cornerIndex[l]; j!=(int)cornerIndex[(l+1)%4]; j+=inc) {</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>        <span class="keywordflow">if</span>(j==(<span class="keywordtype">int</span>)candidate.contour.size() &amp;&amp; !inverse) j=0;</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(j==0 &amp;&amp; inverse) j=candidate.contour.size()-1;</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>        contourLines[l].push_back(candidate.contour[j]);</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>        <span class="keywordflow">if</span>(j==(<span class="keywordtype">int</span>)cornerIndex[(l+1)%4]) <span class="keywordflow">break</span>; <span class="comment">// this has to be added because of the previous ifs</span></div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>      }</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span> </div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>    }</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span> </div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>    <span class="comment">// interpolate marker lines</span></div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>    vector&lt;Point3f&gt; lines;</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>    lines.resize(4);</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0; j&lt;lines.size(); ++j)</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>      <a class="code" href="classaruco_1_1MarkerDetector.html#afff23657f5022efef54011546b8c60e0">interpolate2Dline</a>(contourLines[j], lines[j]);</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span> </div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>    <span class="comment">// get cross points of lines</span></div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>    vector&lt;Point2f&gt; crossPoints;</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>    crossPoints.resize(4);</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;4; ++i)</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>      crossPoints[i] = <a class="code" href="classaruco_1_1MarkerDetector.html#a4cfa657029c6398e6d2f6dacf37da354">getCrossPoint</a>( lines[(i-1)%4], lines[i] );</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span> </div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>    <span class="comment">// reassing points</span></div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0; j&lt;4; ++j)</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>      candidate[j] = crossPoints[j];</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>  }</div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_a4cfa657029c6398e6d2f6dacf37da354"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#a4cfa657029c6398e6d2f6dacf37da354">aruco::MarkerDetector::getCrossPoint</a></div><div class="ttdeci">cv::Point2f getCrossPoint(const cv::Point3f &amp;line1, const cv::Point3f &amp;line2)</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8cpp_source.html#l00879">markerdetector.cpp:879</a></div></div>
<div class="ttc" id="aclassaruco_1_1MarkerDetector_html_afff23657f5022efef54011546b8c60e0"><div class="ttname"><a href="classaruco_1_1MarkerDetector.html#afff23657f5022efef54011546b8c60e0">aruco::MarkerDetector::interpolate2Dline</a></div><div class="ttdeci">void interpolate2Dline(const vector&lt; cv::Point &gt; &amp;inPoints, cv::Point3f &amp;outLine)</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8cpp_source.html#l00824">markerdetector.cpp:824</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classaruco_1_1MarkerDetector_af81636179989d4eb8489025edf8d6cee_cgraph.png" border="0" usemap="#aclassaruco_1_1MarkerDetector_af81636179989d4eb8489025edf8d6cee_cgraph" alt=""/></div>
<map name="aclassaruco_1_1MarkerDetector_af81636179989d4eb8489025edf8d6cee_cgraph" id="aclassaruco_1_1MarkerDetector_af81636179989d4eb8489025edf8d6cee_cgraph">
<area shape="rect" title=" " alt="" coords="5,39,157,80"/>
<area shape="rect" href="classaruco_1_1MarkerDetector.html#a4cfa657029c6398e6d2f6dacf37da354" title=" " alt="" coords="205,5,357,47"/>
<area shape="rect" href="classaruco_1_1MarkerDetector.html#afff23657f5022efef54011546b8c60e0" title=" " alt="" coords="205,71,357,112"/>
</map>
</div>

</div>
</div>
<a id="adfe27f2dc4d057ee803ef24b2671d77b" name="adfe27f2dc4d057ee803ef24b2671d77b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfe27f2dc4d057ee803ef24b2671d77b">&#9670;&nbsp;</a></span>removeElements()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void aruco::MarkerDetector::removeElements </td>
          <td>(</td>
          <td class="paramtype">vector&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>vinout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; bool &gt; &amp;&#160;</td>
          <td class="paramname"><em>toRemove</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Given a vector vinout with elements and a boolean vector indicating the lements from it to remove, this function remove the elements </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vinout</td><td></td></tr>
    <tr><td class="paramname">toRemove</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="markerdetector_8h_source.html#l00331">331</a> of file <a class="el" href="markerdetector_8h_source.html">markerdetector.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>    {</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>       <span class="comment">//remove the invalid ones by setting the valid in the positions left by the invalids</span></div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>      <span class="keywordtype">size_t</span> indexValid=0;</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i=0;i&lt;toRemove.size();i++) {</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>        <span class="keywordflow">if</span> (!toRemove[i]) {</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>            <span class="keywordflow">if</span> (indexValid!=i) vinout[indexValid]=vinout[i];</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>            indexValid++;</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>        }</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>      }</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>      vinout.resize(indexValid);</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae46e37f9795c2d95084fab9f46a36a7a" name="ae46e37f9795c2d95084fab9f46a36a7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae46e37f9795c2d95084fab9f46a36a7a">&#9670;&nbsp;</a></span>setCornerRefinementMethod()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void aruco::MarkerDetector::setCornerRefinementMethod </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classaruco_1_1MarkerDetector.html#ace0069f60aa5cef25a455be1e3d66dc1">CornerRefinementMethod</a>&#160;</td>
          <td class="paramname"><em>method</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="markerdetector_8h_source.html#l00147">147</a> of file <a class="el" href="markerdetector_8h_source.html">markerdetector.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>                                                                  {</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>        <a class="code" href="classaruco_1_1MarkerDetector.html#a26dbffecbb478d5e2198da4494345066">_cornerMethod</a>=method;</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a334888d444947beff4b92b7c37cf4a6a" name="a334888d444947beff4b92b7c37cf4a6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a334888d444947beff4b92b7c37cf4a6a">&#9670;&nbsp;</a></span>setDesiredSpeed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aruco::MarkerDetector::setDesiredSpeed </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Specifies a value to indicate the required speed for the internal processes. If you need maximum speed (at the cost of a lower detection rate), use the value 3, If you rather a more precise and slow detection, set it to 0.</p>
<p >Actually, the main differences are that in highspeed mode, we employ setCornerRefinementMethod(NONE) and internally, we use a small canonical image to detect the marker. In low speed mode, we use setCornerRefinementMethod(HARRIS) and a bigger size for the canonical marker image </p>

<p class="definition">Definition at line <a class="el" href="markerdetector_8cpp_source.html#l00078">78</a> of file <a class="el" href="markerdetector_8cpp_source.html">markerdetector.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>  {</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>    <span class="keywordflow">if</span> ( val&lt;0 ) val=0;</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( val&gt;3 ) val=2;</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span> </div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>    <a class="code" href="classaruco_1_1MarkerDetector.html#a65f05a8ebd1dbfb9b56fba32e2e4f796">_speed</a>=val;</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>    <span class="keywordflow">switch</span> ( <a class="code" href="classaruco_1_1MarkerDetector.html#a65f05a8ebd1dbfb9b56fba32e2e4f796">_speed</a> )</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    {</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span> </div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>    <span class="keywordflow">case</span> 0:</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>      <a class="code" href="classaruco_1_1MarkerDetector.html#a1e5759f7f1cdfd30cb3f747fab669337">_markerWarpSize</a>=56;</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>      <a class="code" href="classaruco_1_1MarkerDetector.html#a26dbffecbb478d5e2198da4494345066">_cornerMethod</a>=<a class="code" href="classaruco_1_1MarkerDetector.html#ace0069f60aa5cef25a455be1e3d66dc1a6a41c357297ab089899bad573f91cc58">SUBPIX</a>;</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>      <a class="code" href="classaruco_1_1MarkerDetector.html#a3534fbcee660e087bbbf972a6ca8cd89">_doErosion</a>=<span class="keyword">true</span>;</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span> </div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>    <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>      <a class="code" href="classaruco_1_1MarkerDetector.html#a1e5759f7f1cdfd30cb3f747fab669337">_markerWarpSize</a>=28;</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>      <a class="code" href="classaruco_1_1MarkerDetector.html#a26dbffecbb478d5e2198da4494345066">_cornerMethod</a>=<a class="code" href="classaruco_1_1MarkerDetector.html#ace0069f60aa5cef25a455be1e3d66dc1a818e862759af62704385015cf0ca2239">NONE</a>;</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    };</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a016caa551b0d14ca74913fa2036d0b5c" name="a016caa551b0d14ca74913fa2036d0b5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a016caa551b0d14ca74913fa2036d0b5c">&#9670;&nbsp;</a></span>setMakerDetectorFunction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void aruco::MarkerDetector::setMakerDetectorFunction </td>
          <td>(</td>
          <td class="paramtype">int(*)(const cv::Mat &amp;in, int &amp;nRotations)&#160;</td>
          <td class="paramname"><em>markerdetector_func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Allows to specify the function that identifies a marker. Therefore, you can create your own type of markers different from these employed by default in the library. The marker function must have the following structure:</p>
<p >int myMarkerIdentifier(const cv::Mat &amp;in,int &amp;nRotations);</p>
<p >The marker function receives the image 'in' with the region that migh contain one of your markers. These are the rectangular regions with black in the image.</p>
<p >As output your marker function must indicate the following information. First, the output parameter nRotations must indicate how many times the marker must be rotated clockwise 90 deg to be in its ideal position. (The way you would see it when you print it). This is employed to know always which is the corner that acts as reference system. Second, the function must return -1 if the image does not contains one of your markers, and its id otherwise. </p>

<p class="definition">Definition at line <a class="el" href="markerdetector_8h_source.html#l00204">204</a> of file <a class="el" href="markerdetector_8h_source.html">markerdetector.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>                                                                                                 {</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>        <a class="code" href="classaruco_1_1MarkerDetector.html#ac9dae9c42a0b3535fb5669bba684db5e">markerIdDetector_ptrfunc</a>=markerdetector_func;</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a759698a524bb93ff3dd2a30dcb7e3d87" name="a759698a524bb93ff3dd2a30dcb7e3d87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a759698a524bb93ff3dd2a30dcb7e3d87">&#9670;&nbsp;</a></span>setMinMaxSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aruco::MarkerDetector::setMinMaxSize </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>min</em> = <code>0.03</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max</em> = <code>0.5</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2">cv::Exception</td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Specifies the min and max sizes of the markers as a fraction of the image size. By size we mean the maximum of cols and rows. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">min</td><td>size of the contour to consider a possible marker as valid (0,1] </td></tr>
    <tr><td class="paramname">max</td><td>size of the contour to consider a possible marker as valid [0,1) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="markerdetector_8cpp_source.html#l01003">1003</a> of file <a class="el" href="markerdetector_8cpp_source.html">markerdetector.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>  {</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>    <span class="keywordflow">if</span> (min&lt;=0 || min&gt;1) <span class="keywordflow">throw</span> cv::Exception(1,<span class="stringliteral">&quot; min parameter out of range&quot;</span>,<span class="stringliteral">&quot;MarkerDetector::setMinMaxSize&quot;</span>,__FILE__,__LINE__);</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>    <span class="keywordflow">if</span> (max&lt;=0 || max&gt;1) <span class="keywordflow">throw</span> cv::Exception(1,<span class="stringliteral">&quot; max parameter out of range&quot;</span>,<span class="stringliteral">&quot;MarkerDetector::setMinMaxSize&quot;</span>,__FILE__,__LINE__);</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>    <span class="keywordflow">if</span> (min&gt;max) <span class="keywordflow">throw</span> cv::Exception(1,<span class="stringliteral">&quot; min&gt;max&quot;</span>,<span class="stringliteral">&quot;MarkerDetector::setMinMaxSize&quot;</span>,__FILE__,__LINE__);</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>    <a class="code" href="classaruco_1_1MarkerDetector.html#a483bf4b430ccd79d2841ed17540fa16f">_minSize</a>=min;</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>    <a class="code" href="classaruco_1_1MarkerDetector.html#a976cf5f634ddab80ba50c4616b35cd14">_maxSize</a>=max;</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="af9f4d48cb107559f29a5c594ef6260b7" name="af9f4d48cb107559f29a5c594ef6260b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9f4d48cb107559f29a5c594ef6260b7">&#9670;&nbsp;</a></span>setThresholdMethod()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void aruco::MarkerDetector::setThresholdMethod </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classaruco_1_1MarkerDetector.html#a1d6ee5812484ae973ea2638aa054b389">ThresholdMethods</a>&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Sets the threshold method </p>

<p class="definition">Definition at line <a class="el" href="markerdetector_8h_source.html#l00106">106</a> of file <a class="el" href="markerdetector_8h_source.html">markerdetector.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>                                                {</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>        <a class="code" href="classaruco_1_1MarkerDetector.html#a4d9d5280ef63b2fa70afb8ce3f89e1c8">_thresMethod</a>=m;</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae62e6b62bc82793d640c9c04ff00335c" name="ae62e6b62bc82793d640c9c04ff00335c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae62e6b62bc82793d640c9c04ff00335c">&#9670;&nbsp;</a></span>setThresholdParams()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void aruco::MarkerDetector::setThresholdParams </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>param1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>param2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Set the parameters of the threshold method We are currently using the Adptive threshold ee opencv doc of adaptiveThreshold for more info </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param1</td><td>blockSize of the pixel neighborhood that is used to calculate a threshold value for the pixel </td></tr>
    <tr><td class="paramname">param2</td><td>The constant subtracted from the mean or weighted mean </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="markerdetector_8h_source.html#l00120">120</a> of file <a class="el" href="markerdetector_8h_source.html">markerdetector.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>                                                         {</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>        <a class="code" href="classaruco_1_1MarkerDetector.html#acc8735a854af013a402ad796aeb42e4e">_thresParam1</a>=param1;</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>        <a class="code" href="classaruco_1_1MarkerDetector.html#a805f25c325fa30cf42f6f1b6ee40f1a0">_thresParam2</a>=param2;</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0c45520746ab01c710b1e6dcc550c0db" name="a0c45520746ab01c710b1e6dcc550c0db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c45520746ab01c710b1e6dcc550c0db">&#9670;&nbsp;</a></span>thresHold()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aruco::MarkerDetector::thresHold </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>grey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>thresImg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>param1</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>param2</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2">cv::Exception</td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<hr  />
<p> Methods you may not need </p>
<h2><a class="anchor" id="autotoc_md1"></a>
Thesde methods do the hard work. They have been set public in case you want to do customizations</h2>
<p >Thesholds the passed image with the specified method. </p>

<p class="definition">Definition at line <a class="el" href="markerdetector_8cpp_source.html#l00411">411</a> of file <a class="el" href="markerdetector_8cpp_source.html">markerdetector.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>  {</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span><span class="preprocessor">#pragma GCC diagnostic push</span></div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span><span class="preprocessor">#pragma GCC diagnostic ignored &quot;-Wfloat-equal&quot;</span></div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>    <span class="keywordflow">if</span> (param1==-1) param1=<a class="code" href="classaruco_1_1MarkerDetector.html#acc8735a854af013a402ad796aeb42e4e">_thresParam1</a>;</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>    <span class="keywordflow">if</span> (param2==-1) param2=<a class="code" href="classaruco_1_1MarkerDetector.html#a805f25c325fa30cf42f6f1b6ee40f1a0">_thresParam2</a>;</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span><span class="preprocessor">#pragma GCC diagnostic pop </span></div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span> </div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>    <span class="keywordflow">if</span> ( grey_m.type() !=CV_8UC1 )     <span class="keywordflow">throw</span> cv::Exception ( 9001,<span class="stringliteral">&quot;grey_m.type()!=CV_8UC1&quot;</span>,<span class="stringliteral">&quot;MarkerDetector::thresHold&quot;</span>,__FILE__,__LINE__ );</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>    <span class="keywordflow">switch</span> ( method )</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>    {</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>    <span class="keywordflow">case</span> <a class="code" href="classaruco_1_1MarkerDetector.html#a1d6ee5812484ae973ea2638aa054b389abbc9aaab9cd6580cfc292b76bb287fe5">FIXED_THRES</a>:</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>      cv::threshold ( grey_m, out, param1,255, CV_THRESH_BINARY_INV );</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>    <span class="keywordflow">case</span> <a class="code" href="classaruco_1_1MarkerDetector.html#a1d6ee5812484ae973ea2638aa054b389afdbf9cecf1d818516da5701666639c67">ADPT_THRES</a>:<span class="comment">//currently, this is the best method</span></div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>      <span class="comment">//ensure that _thresParam1%2==1</span></div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>      <span class="keywordflow">if</span> ( param1&lt;3 ) param1=3;</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ( ( <span class="keywordtype">int</span> ) param1 ) %2 !=1 ) param1= ( int ) ( param1+1 );</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span> </div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>      cv::adaptiveThreshold ( grey_m,out,255,ADAPTIVE_THRESH_MEAN_C,THRESH_BINARY_INV,param1,param2 );</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>    <span class="keywordflow">case</span> <a class="code" href="classaruco_1_1MarkerDetector.html#a1d6ee5812484ae973ea2638aa054b389a597d69a6a2c7166947ed5c885d63b65c">CANNY</a>:</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>    {</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>      <span class="comment">//this should be the best method, and generally it is.</span></div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>      <span class="comment">//However, some times there are small holes in the marker contour that makes</span></div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>      <span class="comment">//the contour detector not to find it properly</span></div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>      <span class="comment">//if there is a missing pixel</span></div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>      cv::Canny ( grey_m, out, 10, 220 );</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>      <span class="comment">//I&#39;ve tried a closing but it add many more points that some</span></div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>      <span class="comment">//times makes this even worse</span></div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>      <span class="comment">//              Mat aux;</span></div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>      <span class="comment">//              cv::morphologyEx(thres,aux,MORPH_CLOSE,Mat());</span></div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>      <span class="comment">//              out=aux;</span></div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>    }</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>    }</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aedcd73ff274bad9885b3086d3b216b08" name="aedcd73ff274bad9885b3086d3b216b08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedcd73ff274bad9885b3086d3b216b08">&#9670;&nbsp;</a></span>warp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool aruco::MarkerDetector::warp </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Size&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::Point2f &gt;&#160;</td>
          <td class="paramname"><em>points</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2">cv::Exception</td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Given the iput image with markers, creates an output image with it in the canonical position </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in</td><td>input image </td></tr>
    <tr><td class="paramname">out</td><td>image with the marker </td></tr>
    <tr><td class="paramname">size</td><td>of out </td></tr>
    <tr><td class="paramname">points</td><td>4 corners of the marker in the image in </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the operation succeed </dd></dl>

<p class="definition">Definition at line <a class="el" href="markerdetector_8cpp_source.html#l00454">454</a> of file <a class="el" href="markerdetector_8cpp_source.html">markerdetector.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>  {</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span> </div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>    <span class="keywordflow">if</span> ( points.size() !=4 )    <span class="keywordflow">throw</span> cv::Exception ( 9001,<span class="stringliteral">&quot;point.size()!=4&quot;</span>,<span class="stringliteral">&quot;MarkerDetector::warp&quot;</span>,__FILE__,__LINE__ );</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>    <span class="comment">//obtain the perspective transform</span></div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>    Point2f  pointsRes[4],pointsIn[4];</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i=0;i&lt;4;i++ ) pointsIn[i]=points[i];</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>    pointsRes[0]= ( Point2f ( 0,0 ) );</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>    pointsRes[1]= Point2f ( size.width-1,0 );</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>    pointsRes[2]= Point2f ( size.width-1,size.height-1 );</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>    pointsRes[3]= Point2f ( 0,size.height-1 );</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>    Mat M=getPerspectiveTransform ( pointsIn,pointsRes );</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>    cv::warpPerspective ( in, out,  M, size,cv::INTER_NEAREST );</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2095fdc39ea281d13adcd1f919d24a2f" name="a2095fdc39ea281d13adcd1f919d24a2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2095fdc39ea281d13adcd1f919d24a2f">&#9670;&nbsp;</a></span>warp_cylinder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool aruco::MarkerDetector::warp_cylinder </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Size&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classaruco_1_1MarkerDetector_1_1MarkerCandidate.html">MarkerCandidate</a> &amp;&#160;</td>
          <td class="paramname"><em>mc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2">cv::Exception</td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="markerdetector_8cpp_source.html#l00557">557</a> of file <a class="el" href="markerdetector_8cpp_source.html">markerdetector.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>  {</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span> </div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>    <span class="keywordflow">if</span> ( mcand.size() !=4 )    <span class="keywordflow">throw</span> cv::Exception ( 9001,<span class="stringliteral">&quot;point.size()!=4&quot;</span>,<span class="stringliteral">&quot;MarkerDetector::warp&quot;</span>,__FILE__,__LINE__ );</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span> </div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>    <span class="comment">//check first the real need for cylinder warping</span></div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>    <span class="comment">//     cout&lt;&lt;&quot;im=&quot;&lt;&lt;mcand.contour.size()&lt;&lt;endl;</span></div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span> </div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>    <span class="comment">//     for (size_t i=0;i&lt;mcand.contour.size();i++) {</span></div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>    <span class="comment">//         cv::rectangle(_ssImC ,mcand.contour[i],mcand.contour[i],cv::Scalar(111,111,111),-1 );</span></div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>    <span class="comment">//     }</span></div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>    <span class="comment">//     mcand.draw(imC,cv::Scalar(0,255,0));</span></div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>    <span class="comment">//find the 4 different segments of the contour</span></div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>    vector&lt;int&gt; idxSegments;</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>    <a class="code" href="namespacearuco.html#a202c0375a21968bf39111816f2a5b3d3">findCornerPointsInContour</a>(mcand,mcand.contour,idxSegments);</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>    <span class="comment">//let us rearrange the points so that the first corner is the one whith smaller idx</span></div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>    <span class="keywordtype">int</span> minIdx=0;</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=1;i&lt;4;i++)</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>      <span class="keywordflow">if</span> (idxSegments[i] &lt;idxSegments[minIdx]) minIdx=i;</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>    <span class="comment">//now, rotate the points to be in this order</span></div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>    <a class="code" href="aruco__selectoptimalmarkers_8cpp.html#af53e62c5432a8b8312c781a7c85891bd">std::rotate</a>(idxSegments.begin(),idxSegments.begin()+minIdx,idxSegments.end());</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>    <a class="code" href="aruco__selectoptimalmarkers_8cpp.html#af53e62c5432a8b8312c781a7c85891bd">std::rotate</a>(mcand.begin(),mcand.begin()+minIdx,mcand.end());</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span> </div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>    <span class="comment">//     cout&lt;&lt;&quot;idxSegments=&quot;&lt;&lt;idxSegments[0]&lt;&lt; &quot; &quot;&lt;&lt;idxSegments[1]&lt;&lt; &quot; &quot;&lt;&lt;idxSegments[2]&lt;&lt;&quot; &quot;&lt;&lt;idxSegments[3]&lt;&lt;endl;</span></div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>    <span class="comment">//now, determine the sides that are deformated by cylinder perspective</span></div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>    <span class="keywordtype">int</span> defrmdSide=<a class="code" href="namespacearuco.html#a8987b1e430f340003ea28d9440f19fcf">findDeformedSidesIdx</a>(mcand.contour,idxSegments);</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>    <span class="comment">//     cout&lt;&lt;&quot;Def=&quot;&lt;&lt;defrmdSide&lt;&lt;endl;</span></div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span> </div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>    <span class="comment">//instead of removing perspective distortion  of the rectangular region</span></div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>    <span class="comment">//given by the rectangle, we enlarge it a bit to include the deformed parts</span></div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>    Point2f enlargedRegion[4];</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0;i&lt;4;i++) enlargedRegion[i]=mcand[i];</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>    <span class="keywordflow">if</span> (defrmdSide==0) {</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>      enlargedRegion[0]=mcand[0]+(mcand[3]-mcand[0])*1.2;</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>      enlargedRegion[1]=mcand[1]+(mcand[2]-mcand[1])*1.2;</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>      enlargedRegion[2]=mcand[2]+(mcand[1]-mcand[2])*1.2;</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>      enlargedRegion[3]=mcand[3]+(mcand[0]-mcand[3])*1.2;</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>    }</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>      enlargedRegion[0]=mcand[0]+(mcand[1]-mcand[0])*1.2;</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>      enlargedRegion[1]=mcand[1]+(mcand[0]-mcand[1])*1.2;</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>      enlargedRegion[2]=mcand[2]+(mcand[3]-mcand[2])*1.2;</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>      enlargedRegion[3]=mcand[3]+(mcand[2]-mcand[3])*1.2;</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>    }</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i=0;i&lt;4;i++)</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>      <a class="code" href="namespacearuco.html#a58f14fa6c21f19c308b6ca0124e9a8e2">setPointIntoImage</a>(enlargedRegion[i],in.size());</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span> </div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span><span class="comment">        cv::Scalar colors[4]={cv::Scalar(0,0,255),cv::Scalar(255,0,0),cv::Scalar(0,255,0),cv::Scalar(111,111,0)};</span></div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span><span class="comment">        for (int i=0;i&lt;4;i++) {</span></div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span><span class="comment">            cv::rectangle(_ssImC,mcand.contour[idxSegments[i]]-cv::Point(2,2),mcand.contour[idxSegments[i]]+cv::Point(2,2),colors[i],-1 );</span></div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span><span class="comment">            cv::rectangle(_ssImC,enlargedRegion[i]-cv::Point2f(2,2),enlargedRegion[i]+cv::Point2f(2,2),colors[i],-1 );</span></div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span><span class="comment"></span> </div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span><span class="comment">        }*/</span></div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>    <span class="comment">//     cv::imshow(&quot;imC&quot;,_ssImC);</span></div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span> </div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span> </div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>    <span class="comment">//calculate the max distance from each contour point the line of the corresponding segment it belongs to</span></div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>    <span class="comment">//     calculate</span></div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>    <span class="comment">//      cv::waitKey(0);</span></div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>    <span class="comment">//check that the region is into image limits</span></div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>    <span class="comment">//obtain the perspective transform</span></div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>    Point2f  pointsRes[4];</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span> </div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>    cv::Size enlargedSize=size;</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>    enlargedSize.width+=2*enlargedSize.width*0.2;</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>    pointsRes[0]= ( Point2f ( 0,0 ) );</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>    pointsRes[1]= Point2f ( enlargedSize.width-1,0 );</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>    pointsRes[2]= Point2f ( enlargedSize.width-1,enlargedSize.height-1 );</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>    pointsRes[3]= Point2f ( 0,enlargedSize.height-1 );</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>    <span class="comment">//rotate to ensure that deformed sides are in the horizontal axis when warping</span></div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>    <span class="keywordflow">if</span> (defrmdSide==0) <a class="code" href="aruco__selectoptimalmarkers_8cpp.html#af53e62c5432a8b8312c781a7c85891bd">rotate</a>(pointsRes,pointsRes+1,pointsRes+4);</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>    cv::Mat imAux,imAux2(enlargedSize,CV_8UC1);</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>    Mat M=getPerspectiveTransform ( enlargedRegion,pointsRes );</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>    cv::warpPerspective ( in, imAux,  M, enlargedSize,cv::INTER_NEAREST);</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span> </div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>    <span class="comment">//now, transform all points to the new image</span></div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>    vector&lt;cv::Point&gt; pointsCO(mcand.contour.size());</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>    assert(M.type()==CV_64F);</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>    assert(M.cols==3 &amp;&amp; M.rows==3);</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>    <span class="comment">//     cout&lt;&lt;M&lt;&lt;endl;</span></div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>    <span class="keywordtype">double</span> *mptr=M.ptr&lt;<span class="keywordtype">double</span>&gt;(0);</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>    imAux2.setTo(cv::Scalar::all(0));</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span> </div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span> </div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i=0;i&lt;mcand.contour.size();i++) {</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>      <span class="keywordtype">float</span> inX=mcand.contour[i].x;</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>      <span class="keywordtype">float</span> inY=mcand.contour[i].y;</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>      <span class="keywordtype">float</span> w= inX * mptr[6]+inY * mptr[7]+mptr[8];</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>      cv::Point2f pres;</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>      pointsCO[i].x=( (inX * mptr[0]+inY* mptr[1]+mptr[2])/w)+0.5;</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>      pointsCO[i].y=( (inX * mptr[3]+inY* mptr[4]+mptr[5])/w)+0.5;</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>      <span class="comment">//make integers</span></div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>      <a class="code" href="namespacearuco.html#a58f14fa6c21f19c308b6ca0124e9a8e2">setPointIntoImage</a>(pointsCO[i],imAux.size());<span class="comment">//ensure points are into image limits</span></div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>      <span class="comment">//    cout&lt;&lt;&quot;p=&quot;&lt;&lt;pointsCO[i]&lt;&lt;&quot; &quot;&lt;&lt;imAux.size().width&lt;&lt;&quot; &quot;&lt;&lt;imAux.size().height&lt;&lt;endl;</span></div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>      imAux2.at&lt;uchar&gt;(pointsCO[i].y,pointsCO[i].x)=255;</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>      <span class="keywordflow">if</span> (pointsCO[i].y&gt;0)</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>        imAux2.at&lt;uchar&gt;(pointsCO[i].y-1,pointsCO[i].x)=255;</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>      <span class="keywordflow">if</span> (pointsCO[i].y&lt;imAux2.rows-1 )</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>        imAux2.at&lt;uchar&gt;(pointsCO[i].y+1,pointsCO[i].x)=255;</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>    }</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span> </div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>    cv::Mat outIm(enlargedSize,CV_8UC1);</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>    outIm.setTo(cv::Scalar::all(0));</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>    <span class="comment">//now, scan in lines to determine the required displacement</span></div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=0;y&lt;imAux2.rows;y++) {</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>      uchar *_offInfo=imAux2.ptr&lt;uchar&gt;(y);</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>      <span class="keywordtype">int</span> start=-1,end=-1;</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>      <span class="comment">//determine the start and end of markerd regions</span></div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x=0;x&lt;imAux.cols;x++) {</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>        <span class="keywordflow">if</span> (_offInfo[x]) {</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>          <span class="keywordflow">if</span> (start==-1) start=x;</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>          <span class="keywordflow">else</span> end=x;</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>        }</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>      }</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>      <span class="comment">//       cout&lt;&lt;&quot;S=&quot;&lt;&lt;start&lt;&lt;&quot; &quot;&lt;&lt;end&lt;&lt;&quot; &quot;&lt;&lt;end-start&lt;&lt;&quot; &quot;&lt;&lt;(size.width&gt;&gt;1)&lt;&lt;endl;</span></div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>      <span class="comment">//check that the size is big enough and</span></div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>      assert(start!=-1 &amp;&amp; end!=-1 &amp;&amp; (end-start)&gt; size.width&gt;&gt;1);</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>      uchar *In_image=imAux.ptr&lt;uchar&gt;(y);</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>      uchar *Out_image=outIm.ptr&lt;uchar&gt;(y);</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>      memcpy(Out_image,In_image+start,imAux.cols-start );</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>    }</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span> </div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span> </div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>    <span class="comment">//     cout&lt;&lt;&quot;SS=&quot;&lt;&lt;mcand.contour.size()&lt;&lt;&quot; &quot;&lt;&lt;pointsCO.size()&lt;&lt;endl;</span></div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>    <span class="comment">//get the central region with the size specified</span></div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>    cv::Mat centerReg=outIm(cv::Range::all(),cv::Range(0,size.width));</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>    out=centerReg.clone();</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>    <span class="comment">//     cv::perspectiveTransform(mcand.contour,pointsCO,M);</span></div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>    <span class="comment">//draw them</span></div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>    <span class="comment">//     cv::imshow(&quot;out2&quot;,out);</span></div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>    <span class="comment">//     cv::imshow(&quot;imm&quot;,imAux2);</span></div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>    <span class="comment">//     cv::waitKey(0);</span></div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>  }</div>
<div class="ttc" id="aaruco__selectoptimalmarkers_8cpp_html_af53e62c5432a8b8312c781a7c85891bd"><div class="ttname"><a href="aruco__selectoptimalmarkers_8cpp.html#af53e62c5432a8b8312c781a7c85891bd">rotate</a></div><div class="ttdeci">Mat rotate(Mat in)</div><div class="ttdef"><b>Definition:</b> <a href="aruco__selectoptimalmarkers_8cpp_source.html#l00053">aruco_selectoptimalmarkers.cpp:53</a></div></div>
<div class="ttc" id="anamespacearuco_html_a202c0375a21968bf39111816f2a5b3d3"><div class="ttname"><a href="namespacearuco.html#a202c0375a21968bf39111816f2a5b3d3">aruco::findCornerPointsInContour</a></div><div class="ttdeci">void findCornerPointsInContour(const vector&lt; cv::Point2f &gt; &amp;points, const vector&lt; cv::Point &gt; &amp;contour, vector&lt; int &gt; &amp;idxs)</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8cpp_source.html#l00470">markerdetector.cpp:470</a></div></div>
<div class="ttc" id="anamespacearuco_html_a58f14fa6c21f19c308b6ca0124e9a8e2"><div class="ttname"><a href="namespacearuco.html#a58f14fa6c21f19c308b6ca0124e9a8e2">aruco::setPointIntoImage</a></div><div class="ttdeci">void setPointIntoImage(cv::Point2f &amp;p, cv::Size s)</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8cpp_source.html#l00536">markerdetector.cpp:536</a></div></div>
<div class="ttc" id="anamespacearuco_html_a8987b1e430f340003ea28d9440f19fcf"><div class="ttname"><a href="namespacearuco.html#a8987b1e430f340003ea28d9440f19fcf">aruco::findDeformedSidesIdx</a></div><div class="ttdeci">int findDeformedSidesIdx(const vector&lt; cv::Point &gt; &amp;contour, const vector&lt; int &gt; &amp;idxSegments)</div><div class="ttdef"><b>Definition:</b> <a href="markerdetector_8cpp_source.html#l00495">markerdetector.cpp:495</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classaruco_1_1MarkerDetector_a2095fdc39ea281d13adcd1f919d24a2f_cgraph.png" border="0" usemap="#aclassaruco_1_1MarkerDetector_a2095fdc39ea281d13adcd1f919d24a2f_cgraph" alt=""/></div>
<map name="aclassaruco_1_1MarkerDetector_a2095fdc39ea281d13adcd1f919d24a2f_cgraph" id="aclassaruco_1_1MarkerDetector_a2095fdc39ea281d13adcd1f919d24a2f_cgraph">
<area shape="rect" title=" " alt="" coords="5,89,157,131"/>
<area shape="rect" href="namespacearuco.html#a202c0375a21968bf39111816f2a5b3d3" title=" " alt="" coords="215,5,386,47"/>
<area shape="rect" href="namespacearuco.html#a8987b1e430f340003ea28d9440f19fcf" title=" " alt="" coords="205,71,396,98"/>
<area shape="rect" href="aruco__selectoptimalmarkers_8cpp.html#af53e62c5432a8b8312c781a7c85891bd" title=" " alt="" coords="273,122,328,149"/>
<area shape="rect" href="namespacearuco.html#a58f14fa6c21f19c308b6ca0124e9a8e2" title=" " alt="" coords="217,173,385,199"/>
</map>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>aruco/include/aruco/<a class="el" href="markerdetector_8h_source.html">markerdetector.h</a></li>
<li>aruco/src/aruco/<a class="el" href="markerdetector_8cpp_source.html">markerdetector.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
