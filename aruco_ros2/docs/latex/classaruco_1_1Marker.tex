\hypertarget{classaruco_1_1Marker}{}\doxysection{aruco\+::Marker Class Reference}
\label{classaruco_1_1Marker}\index{aruco::Marker@{aruco::Marker}}


This class represents a marker. It is a vector of the fours corners ot the marker.  




{\ttfamily \#include $<$marker.\+h$>$}



Inheritance diagram for aruco\+::Marker\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=208pt]{classaruco_1_1Marker__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for aruco\+::Marker\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=208pt]{classaruco_1_1Marker__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classaruco_1_1Marker_ae5a160d0a29fa70fc756244eacdbe358}{Marker}} ()
\item 
\mbox{\hyperlink{classaruco_1_1Marker_af4d016dd025e178046d7726149f42370}{Marker}} (const \mbox{\hyperlink{classaruco_1_1Marker}{Marker}} \&M)
\item 
\mbox{\hyperlink{classaruco_1_1Marker_a958371b4fae2ebd37cbced46aec53c4b}{Marker}} (const std\+::vector$<$ cv\+::\+Point2f $>$ \&corners, int \+\_\+id=-\/1)
\item 
\mbox{\hyperlink{classaruco_1_1Marker_a65efe4f5acd6404e5b9cf4fc86cecd2f}{$\sim$\+Marker}} ()
\item 
bool \mbox{\hyperlink{classaruco_1_1Marker_aa546c0b79bf647c18b394be6743e235b}{is\+Valid}} () const
\item 
void \mbox{\hyperlink{classaruco_1_1Marker_a4b16ae3e07dc8d68177a95663c49b860}{draw}} (cv\+::\+Mat \&in, cv\+::\+Scalar color, int line\+Width=1, bool write\+Id=true) const
\item 
void \mbox{\hyperlink{classaruco_1_1Marker_a923d66443016c7cb73164f0ef97202d5}{calculate\+Extrinsics}} (float marker\+Size, const \mbox{\hyperlink{classaruco_1_1CameraParameters}{Camera\+Parameters}} \&CP, bool set\+YPerpendicular=true)  throw (cv\+::\+Exception)
\item 
void \mbox{\hyperlink{classaruco_1_1Marker_a1fe3ff151bf077431c616235d2f6dc4b}{calculate\+Extrinsics}} (float marker\+Size, cv\+::\+Mat Camera\+Matrix, cv\+::\+Mat Distorsion=cv\+::\+Mat(), bool set\+YPerpendicular=true)  throw (cv\+::\+Exception)
\item 
void \mbox{\hyperlink{classaruco_1_1Marker_a587d503fbd39a98a6ab8f4abe66d89fd}{gl\+Get\+Model\+View\+Matrix}} (double modelview\+\_\+matrix\mbox{[}16\mbox{]})  throw (cv\+::\+Exception)
\item 
void \mbox{\hyperlink{classaruco_1_1Marker_a468cf05d41362659fa682919744fb035}{Ogre\+Get\+Pose\+Parameters}} (double position\mbox{[}3\mbox{]}, double orientation\mbox{[}4\mbox{]})  throw (cv\+::\+Exception)
\item 
cv\+::\+Point2f \mbox{\hyperlink{classaruco_1_1Marker_a324d8c284b80a4c94fa18b16d0900fa4}{get\+Center}} () const
\item 
float \mbox{\hyperlink{classaruco_1_1Marker_a1e7f5a64f8c3ad42e8fe0e1d007065a3}{get\+Perimeter}} () const
\item 
float \mbox{\hyperlink{classaruco_1_1Marker_aa28b6511217b98086f88d8a2c4e2cab7}{get\+Area}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classaruco_1_1Marker_a7cedb2c6fd80e1b80ca717e97ce81d65}\label{classaruco_1_1Marker_a7cedb2c6fd80e1b80ca717e97ce81d65}} 
int {\bfseries id}
\item 
\mbox{\Hypertarget{classaruco_1_1Marker_ac5df65736cc539e78d6620307739b5b1}\label{classaruco_1_1Marker_ac5df65736cc539e78d6620307739b5b1}} 
float {\bfseries ssize}
\item 
\mbox{\Hypertarget{classaruco_1_1Marker_a5f31be5060bf2a6762890a1a54c98cfd}\label{classaruco_1_1Marker_a5f31be5060bf2a6762890a1a54c98cfd}} 
cv\+::\+Mat {\bfseries Rvec}
\item 
\mbox{\Hypertarget{classaruco_1_1Marker_a14068630efdf1a5f665a2dcb34e496d0}\label{classaruco_1_1Marker_a14068630efdf1a5f665a2dcb34e496d0}} 
cv\+::\+Mat {\bfseries Tvec}
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classaruco_1_1Marker_a4a74c23e584bee84a035209b7c7d8205}{rotate\+XAxis}} (cv\+::\+Mat \&rotation)
\end{DoxyCompactItemize}
\doxysubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{classaruco_1_1Marker_a19de3d60e4cd6ddaf3df606158049a0c}{operator$<$}} (const \mbox{\hyperlink{classaruco_1_1Marker}{Marker}} \&M1, const \mbox{\hyperlink{classaruco_1_1Marker}{Marker}} \&M2)
\item 
ostream \& \mbox{\hyperlink{classaruco_1_1Marker_a191f20f61955983c0475ae4b141657ef}{operator$<$$<$}} (ostream \&str, const \mbox{\hyperlink{classaruco_1_1Marker}{Marker}} \&M)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This class represents a marker. It is a vector of the fours corners ot the marker. 

Definition at line 41 of file marker.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classaruco_1_1Marker_ae5a160d0a29fa70fc756244eacdbe358}\label{classaruco_1_1Marker_ae5a160d0a29fa70fc756244eacdbe358}} 
\index{aruco::Marker@{aruco::Marker}!Marker@{Marker}}
\index{Marker@{Marker}!aruco::Marker@{aruco::Marker}}
\doxysubsubsection{\texorpdfstring{Marker()}{Marker()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily aruco\+::\+Marker\+::\+Marker (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 38 of file marker.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{39   \{}
\DoxyCodeLine{40     \textcolor{keywordtype}{id}=-\/1;}
\DoxyCodeLine{41     \mbox{\hyperlink{classaruco_1_1Marker_ac5df65736cc539e78d6620307739b5b1}{ssize}}=-\/1;}
\DoxyCodeLine{42     \mbox{\hyperlink{classaruco_1_1Marker_a5f31be5060bf2a6762890a1a54c98cfd}{Rvec}}.create(3,1,CV\_32FC1);}
\DoxyCodeLine{43     \mbox{\hyperlink{classaruco_1_1Marker_a14068630efdf1a5f665a2dcb34e496d0}{Tvec}}.create(3,1,CV\_32FC1);}
\DoxyCodeLine{44     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<3;i++)}
\DoxyCodeLine{45       \mbox{\hyperlink{classaruco_1_1Marker_a14068630efdf1a5f665a2dcb34e496d0}{Tvec}}.at<\textcolor{keywordtype}{float}>(i,0)=\mbox{\hyperlink{classaruco_1_1Marker_a5f31be5060bf2a6762890a1a54c98cfd}{Rvec}}.at<\textcolor{keywordtype}{float}>(i,0)=NAN;}
\DoxyCodeLine{46   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classaruco_1_1Marker_af4d016dd025e178046d7726149f42370}\label{classaruco_1_1Marker_af4d016dd025e178046d7726149f42370}} 
\index{aruco::Marker@{aruco::Marker}!Marker@{Marker}}
\index{Marker@{Marker}!aruco::Marker@{aruco::Marker}}
\doxysubsubsection{\texorpdfstring{Marker()}{Marker()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily aruco\+::\+Marker\+::\+Marker (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classaruco_1_1Marker}{Marker}} \&}]{M }\end{DoxyParamCaption})}



Definition at line 50 of file marker.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{50                                :std::vector<cv::Point2f>(M)}
\DoxyCodeLine{51   \{}
\DoxyCodeLine{52     M.Rvec.copyTo(\mbox{\hyperlink{classaruco_1_1Marker_a5f31be5060bf2a6762890a1a54c98cfd}{Rvec}});}
\DoxyCodeLine{53     M.Tvec.copyTo(\mbox{\hyperlink{classaruco_1_1Marker_a14068630efdf1a5f665a2dcb34e496d0}{Tvec}});}
\DoxyCodeLine{54     \textcolor{keywordtype}{id}=M.id;}
\DoxyCodeLine{55     \mbox{\hyperlink{classaruco_1_1Marker_ac5df65736cc539e78d6620307739b5b1}{ssize}}=M.ssize;}
\DoxyCodeLine{56   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classaruco_1_1Marker_a958371b4fae2ebd37cbced46aec53c4b}\label{classaruco_1_1Marker_a958371b4fae2ebd37cbced46aec53c4b}} 
\index{aruco::Marker@{aruco::Marker}!Marker@{Marker}}
\index{Marker@{Marker}!aruco::Marker@{aruco::Marker}}
\doxysubsubsection{\texorpdfstring{Marker()}{Marker()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily aruco\+::\+Marker\+::\+Marker (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ cv\+::\+Point2f $>$ \&}]{corners,  }\item[{int}]{\+\_\+id = {\ttfamily -\/1} }\end{DoxyParamCaption})}



Definition at line 61 of file marker.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{61                                                             :std::vector<cv::Point2f>(corners)}
\DoxyCodeLine{62   \{}
\DoxyCodeLine{63     \textcolor{keywordtype}{id}=\_id;}
\DoxyCodeLine{64     \mbox{\hyperlink{classaruco_1_1Marker_ac5df65736cc539e78d6620307739b5b1}{ssize}}=-\/1;}
\DoxyCodeLine{65     \mbox{\hyperlink{classaruco_1_1Marker_a5f31be5060bf2a6762890a1a54c98cfd}{Rvec}}.create(3,1,CV\_32FC1);}
\DoxyCodeLine{66     \mbox{\hyperlink{classaruco_1_1Marker_a14068630efdf1a5f665a2dcb34e496d0}{Tvec}}.create(3,1,CV\_32FC1);}
\DoxyCodeLine{67     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<3;i++)}
\DoxyCodeLine{68       \mbox{\hyperlink{classaruco_1_1Marker_a14068630efdf1a5f665a2dcb34e496d0}{Tvec}}.at<\textcolor{keywordtype}{float}>(i,0)=\mbox{\hyperlink{classaruco_1_1Marker_a5f31be5060bf2a6762890a1a54c98cfd}{Rvec}}.at<\textcolor{keywordtype}{float}>(i,0)=NAN;}
\DoxyCodeLine{69   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classaruco_1_1Marker_a65efe4f5acd6404e5b9cf4fc86cecd2f}\label{classaruco_1_1Marker_a65efe4f5acd6404e5b9cf4fc86cecd2f}} 
\index{aruco::Marker@{aruco::Marker}!````~Marker@{$\sim$Marker}}
\index{````~Marker@{$\sim$Marker}!aruco::Marker@{aruco::Marker}}
\doxysubsubsection{\texorpdfstring{$\sim$Marker()}{~Marker()}}
{\footnotesize\ttfamily aruco\+::\+Marker\+::$\sim$\+Marker (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 62 of file marker.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{62 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classaruco_1_1Marker_a923d66443016c7cb73164f0ef97202d5}\label{classaruco_1_1Marker_a923d66443016c7cb73164f0ef97202d5}} 
\index{aruco::Marker@{aruco::Marker}!calculateExtrinsics@{calculateExtrinsics}}
\index{calculateExtrinsics@{calculateExtrinsics}!aruco::Marker@{aruco::Marker}}
\doxysubsubsection{\texorpdfstring{calculateExtrinsics()}{calculateExtrinsics()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void aruco\+::\+Marker\+::calculate\+Extrinsics (\begin{DoxyParamCaption}\item[{float}]{marker\+Size,  }\item[{const \mbox{\hyperlink{classaruco_1_1CameraParameters}{Camera\+Parameters}} \&}]{CP,  }\item[{bool}]{set\+YPerpendicular = {\ttfamily true} }\end{DoxyParamCaption}) throw ( cv\+::\+Exception) }

Calculates the extrinsics (Rvec and Tvec) of the marker with respect to the camera 
\begin{DoxyParams}{Parameters}
{\em marker\+Size} & size of the marker side expressed in meters \\
\hline
{\em CP} & parmeters of the camera \\
\hline
{\em set\+YPerpendicular} & If set the Y axis will be perpendicular to the surface. Otherwise, it will be the Z axis \\
\hline
\end{DoxyParams}


Definition at line 242 of file marker.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{243   \{}
\DoxyCodeLine{244     \textcolor{keywordflow}{if} (!CP.isValid()) \textcolor{keywordflow}{throw} cv::Exception(9004,\textcolor{stringliteral}{"{}!CP.isValid(): invalid camera parameters. It is not possible to calculate extrinsics"{}},\textcolor{stringliteral}{"{}calculateExtrinsics"{}},\_\_FILE\_\_,\_\_LINE\_\_);}
\DoxyCodeLine{245     \mbox{\hyperlink{classaruco_1_1Marker_a923d66443016c7cb73164f0ef97202d5}{calculateExtrinsics}}( markerSize,CP.CameraMatrix,CP.Distorsion,setYPerpendicular);}
\DoxyCodeLine{246   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classaruco_1_1Marker_a1fe3ff151bf077431c616235d2f6dc4b}\label{classaruco_1_1Marker_a1fe3ff151bf077431c616235d2f6dc4b}} 
\index{aruco::Marker@{aruco::Marker}!calculateExtrinsics@{calculateExtrinsics}}
\index{calculateExtrinsics@{calculateExtrinsics}!aruco::Marker@{aruco::Marker}}
\doxysubsubsection{\texorpdfstring{calculateExtrinsics()}{calculateExtrinsics()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void aruco\+::\+Marker\+::calculate\+Extrinsics (\begin{DoxyParamCaption}\item[{float}]{marker\+Size,  }\item[{cv\+::\+Mat}]{Camera\+Matrix,  }\item[{cv\+::\+Mat}]{Distorsion = {\ttfamily cv\+:\+:Mat()},  }\item[{bool}]{set\+YPerpendicular = {\ttfamily true} }\end{DoxyParamCaption}) throw ( cv\+::\+Exception) }

Calculates the extrinsics (Rvec and Tvec) of the marker with respect to the camera 
\begin{DoxyParams}{Parameters}
{\em marker\+Size} & size of the marker side expressed in meters \\
\hline
{\em Camera\+Matrix} & matrix with camera parameters (fx,fy,cx,cy) \\
\hline
{\em Distorsion} & matrix with distorsion parameters (k1,k2,p1,p2) \\
\hline
{\em set\+YPerpendicular} & If set the Y axis will be perpendicular to the surface. Otherwise, it will be the Z axis \\
\hline
\end{DoxyParams}


Definition at line 253 of file marker.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{254   \{}
\DoxyCodeLine{255     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classaruco_1_1Marker_aa546c0b79bf647c18b394be6743e235b}{isValid}}()) \textcolor{keywordflow}{throw} cv::Exception(9004,\textcolor{stringliteral}{"{}!isValid(): invalid marker. It is not possible to calculate extrinsics"{}},\textcolor{stringliteral}{"{}calculateExtrinsics"{}},\_\_FILE\_\_,\_\_LINE\_\_);}
\DoxyCodeLine{256     \textcolor{keywordflow}{if} (markerSizeMeters<=0)\textcolor{keywordflow}{throw} cv::Exception(9004,\textcolor{stringliteral}{"{}markerSize<=0: invalid markerSize"{}},\textcolor{stringliteral}{"{}calculateExtrinsics"{}},\_\_FILE\_\_,\_\_LINE\_\_);}
\DoxyCodeLine{257     \textcolor{keywordflow}{if} ( camMatrix.rows==0 || camMatrix.cols==0) \textcolor{keywordflow}{throw} cv::Exception(9004,\textcolor{stringliteral}{"{}CameraMatrix is empty"{}},\textcolor{stringliteral}{"{}calculateExtrinsics"{}},\_\_FILE\_\_,\_\_LINE\_\_);}
\DoxyCodeLine{258 }
\DoxyCodeLine{259     \textcolor{keywordtype}{double} halfSize=markerSizeMeters/2.;}
\DoxyCodeLine{260     cv::Mat ObjPoints(4,3,CV\_32FC1);}
\DoxyCodeLine{261     ObjPoints.at<\textcolor{keywordtype}{float}>(1,0)=-\/halfSize;}
\DoxyCodeLine{262     ObjPoints.at<\textcolor{keywordtype}{float}>(1,1)=halfSize;}
\DoxyCodeLine{263     ObjPoints.at<\textcolor{keywordtype}{float}>(1,2)=0;}
\DoxyCodeLine{264     ObjPoints.at<\textcolor{keywordtype}{float}>(2,0)=halfSize;}
\DoxyCodeLine{265     ObjPoints.at<\textcolor{keywordtype}{float}>(2,1)=halfSize;}
\DoxyCodeLine{266     ObjPoints.at<\textcolor{keywordtype}{float}>(2,2)=0;}
\DoxyCodeLine{267     ObjPoints.at<\textcolor{keywordtype}{float}>(3,0)=halfSize;}
\DoxyCodeLine{268     ObjPoints.at<\textcolor{keywordtype}{float}>(3,1)=-\/halfSize;}
\DoxyCodeLine{269     ObjPoints.at<\textcolor{keywordtype}{float}>(3,2)=0;}
\DoxyCodeLine{270     ObjPoints.at<\textcolor{keywordtype}{float}>(0,0)=-\/halfSize;}
\DoxyCodeLine{271     ObjPoints.at<\textcolor{keywordtype}{float}>(0,1)=-\/halfSize;}
\DoxyCodeLine{272     ObjPoints.at<\textcolor{keywordtype}{float}>(0,2)=0;}
\DoxyCodeLine{273 }
\DoxyCodeLine{274     cv::Mat ImagePoints(4,2,CV\_32FC1);}
\DoxyCodeLine{275 }
\DoxyCodeLine{276     \textcolor{comment}{//Set image points from the marker}}
\DoxyCodeLine{277     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c=0;c<4;c++)}
\DoxyCodeLine{278     \{}
\DoxyCodeLine{279       ImagePoints.at<\textcolor{keywordtype}{float}>(c,0)=((*\textcolor{keyword}{this})[c\%4].x);}
\DoxyCodeLine{280       ImagePoints.at<\textcolor{keywordtype}{float}>(c,1)=((*\textcolor{keyword}{this})[c\%4].y);}
\DoxyCodeLine{281     \}}
\DoxyCodeLine{282     }
\DoxyCodeLine{283     cv::Mat raux,taux;}
\DoxyCodeLine{284     cv::solvePnP(ObjPoints, ImagePoints, camMatrix, distCoeff,raux,taux);}
\DoxyCodeLine{285     raux.convertTo(\mbox{\hyperlink{classaruco_1_1Marker_a5f31be5060bf2a6762890a1a54c98cfd}{Rvec}},CV\_32F);}
\DoxyCodeLine{286     taux.convertTo(\mbox{\hyperlink{classaruco_1_1Marker_a14068630efdf1a5f665a2dcb34e496d0}{Tvec}} ,CV\_32F);}
\DoxyCodeLine{287     \textcolor{comment}{//rotate the X axis so that Y is perpendicular to the marker plane}}
\DoxyCodeLine{288     \textcolor{keywordflow}{if} (setYPerpendicular) \mbox{\hyperlink{classaruco_1_1Marker_a4a74c23e584bee84a035209b7c7d8205}{rotateXAxis}}(\mbox{\hyperlink{classaruco_1_1Marker_a5f31be5060bf2a6762890a1a54c98cfd}{Rvec}});}
\DoxyCodeLine{289     \mbox{\hyperlink{classaruco_1_1Marker_ac5df65736cc539e78d6620307739b5b1}{ssize}}=markerSizeMeters;}
\DoxyCodeLine{290   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classaruco_1_1Marker_a4b16ae3e07dc8d68177a95663c49b860}\label{classaruco_1_1Marker_a4b16ae3e07dc8d68177a95663c49b860}} 
\index{aruco::Marker@{aruco::Marker}!draw@{draw}}
\index{draw@{draw}!aruco::Marker@{aruco::Marker}}
\doxysubsubsection{\texorpdfstring{draw()}{draw()}}
{\footnotesize\ttfamily void aruco\+::\+Marker\+::draw (\begin{DoxyParamCaption}\item[{cv\+::\+Mat \&}]{in,  }\item[{cv\+::\+Scalar}]{color,  }\item[{int}]{line\+Width = {\ttfamily 1},  }\item[{bool}]{write\+Id = {\ttfamily true} }\end{DoxyParamCaption}) const}

Draws this marker in the input image 

Definition at line 216 of file marker.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{217   \{}
\DoxyCodeLine{218     \textcolor{keywordflow}{if} (size()!=4) \textcolor{keywordflow}{return};}
\DoxyCodeLine{219     cv::line( in,(*\textcolor{keyword}{this})[0],(*\textcolor{keyword}{this})[1],color,lineWidth,CV\_AA);}
\DoxyCodeLine{220     cv::line( in,(*\textcolor{keyword}{this})[1],(*\textcolor{keyword}{this})[2],color,lineWidth,CV\_AA);}
\DoxyCodeLine{221     cv::line( in,(*\textcolor{keyword}{this})[2],(*\textcolor{keyword}{this})[3],color,lineWidth,CV\_AA);}
\DoxyCodeLine{222     cv::line( in,(*\textcolor{keyword}{this})[3],(*\textcolor{keyword}{this})[0],color,lineWidth,CV\_AA);}
\DoxyCodeLine{223     cv::rectangle( in,(*\textcolor{keyword}{this})[0]-\/Point2f(2,2),(*\textcolor{keyword}{this})[0]+Point2f(2,2),Scalar(0,0,255,255),lineWidth,CV\_AA);}
\DoxyCodeLine{224     cv::rectangle( in,(*\textcolor{keyword}{this})[1]-\/Point2f(2,2),(*\textcolor{keyword}{this})[1]+Point2f(2,2),Scalar(0,255,0,255),lineWidth,CV\_AA);}
\DoxyCodeLine{225     cv::rectangle( in,(*\textcolor{keyword}{this})[2]-\/Point2f(2,2),(*\textcolor{keyword}{this})[2]+Point2f(2,2),Scalar(255,0,0,255),lineWidth,CV\_AA);}
\DoxyCodeLine{226     \textcolor{keywordflow}{if} (writeId) \{}
\DoxyCodeLine{227       \textcolor{keywordtype}{char} cad[100];}
\DoxyCodeLine{228       sprintf(cad,\textcolor{stringliteral}{"{}id=\%d"{}},\textcolor{keywordtype}{id});}
\DoxyCodeLine{229       \textcolor{comment}{//determine the centroid}}
\DoxyCodeLine{230       Point cent(0,0);}
\DoxyCodeLine{231       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<4;i++)}
\DoxyCodeLine{232       \{}
\DoxyCodeLine{233         cent.x+=(*this)[i].x;}
\DoxyCodeLine{234         cent.y+=(*this)[i].y;}
\DoxyCodeLine{235       \}}
\DoxyCodeLine{236       cent.x/=4.;}
\DoxyCodeLine{237       cent.y/=4.;}
\DoxyCodeLine{238       putText(in,cad, cent,FONT\_HERSHEY\_SIMPLEX, 0.5,  Scalar(255-\/color[0],255-\/color[1],255-\/color[2],255),2);}
\DoxyCodeLine{239     \}}
\DoxyCodeLine{240   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classaruco_1_1Marker_aa28b6511217b98086f88d8a2c4e2cab7}\label{classaruco_1_1Marker_aa28b6511217b98086f88d8a2c4e2cab7}} 
\index{aruco::Marker@{aruco::Marker}!getArea@{getArea}}
\index{getArea@{getArea}!aruco::Marker@{aruco::Marker}}
\doxysubsubsection{\texorpdfstring{getArea()}{getArea()}}
{\footnotesize\ttfamily float aruco\+::\+Marker\+::get\+Area (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns the area 

Definition at line 321 of file marker.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{322   \{}
\DoxyCodeLine{323     assert(size()==4);}
\DoxyCodeLine{324     \textcolor{comment}{//use the cross products}}
\DoxyCodeLine{325     cv::Point2f v01=(*this)[1]-\/(*this)[0];}
\DoxyCodeLine{326     cv::Point2f v03=(*this)[3]-\/(*this)[0];}
\DoxyCodeLine{327     \textcolor{keywordtype}{float} area1=fabs(v01.x*v03.y -\/ v01.y*v03.x);}
\DoxyCodeLine{328     cv::Point2f v21=(*this)[1]-\/(*this)[2];}
\DoxyCodeLine{329     cv::Point2f v23=(*this)[3]-\/(*this)[2];}
\DoxyCodeLine{330     \textcolor{keywordtype}{float} area2=fabs(v21.x*v23.y -\/ v21.y*v23.x);}
\DoxyCodeLine{331     \textcolor{keywordflow}{return} (area2+area1)/2.;}
\DoxyCodeLine{332   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classaruco_1_1Marker_a324d8c284b80a4c94fa18b16d0900fa4}\label{classaruco_1_1Marker_a324d8c284b80a4c94fa18b16d0900fa4}} 
\index{aruco::Marker@{aruco::Marker}!getCenter@{getCenter}}
\index{getCenter@{getCenter}!aruco::Marker@{aruco::Marker}}
\doxysubsubsection{\texorpdfstring{getCenter()}{getCenter()}}
{\footnotesize\ttfamily cv\+::\+Point2f aruco\+::\+Marker\+::get\+Center (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns the centroid of the marker 

Definition at line 309 of file marker.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{310   \{}
\DoxyCodeLine{311     cv::Point2f cent(0,0);}
\DoxyCodeLine{312     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t} i=0;i<size();i++)\{}
\DoxyCodeLine{313       cent.x+=(*this)[i].x;}
\DoxyCodeLine{314       cent.y+=(*this)[i].y;}
\DoxyCodeLine{315     \}}
\DoxyCodeLine{316     cent.x/=float(size());}
\DoxyCodeLine{317     cent.y/=float(size());}
\DoxyCodeLine{318     \textcolor{keywordflow}{return} cent;}
\DoxyCodeLine{319   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classaruco_1_1Marker_a1e7f5a64f8c3ad42e8fe0e1d007065a3}\label{classaruco_1_1Marker_a1e7f5a64f8c3ad42e8fe0e1d007065a3}} 
\index{aruco::Marker@{aruco::Marker}!getPerimeter@{getPerimeter}}
\index{getPerimeter@{getPerimeter}!aruco::Marker@{aruco::Marker}}
\doxysubsubsection{\texorpdfstring{getPerimeter()}{getPerimeter()}}
{\footnotesize\ttfamily float aruco\+::\+Marker\+::get\+Perimeter (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns the perimeter of the marker 

Definition at line 334 of file marker.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{335   \{}
\DoxyCodeLine{336     assert(size()==4);}
\DoxyCodeLine{337     \textcolor{keywordtype}{float} sum=0;}
\DoxyCodeLine{338     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0;i<4;i++)}
\DoxyCodeLine{339       sum+=norm( (*\textcolor{keyword}{this})[i]-\/(*\textcolor{keyword}{this})[(i+1)\%4]);}
\DoxyCodeLine{340     \textcolor{keywordflow}{return} sum;}
\DoxyCodeLine{341   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classaruco_1_1Marker_a587d503fbd39a98a6ab8f4abe66d89fd}\label{classaruco_1_1Marker_a587d503fbd39a98a6ab8f4abe66d89fd}} 
\index{aruco::Marker@{aruco::Marker}!glGetModelViewMatrix@{glGetModelViewMatrix}}
\index{glGetModelViewMatrix@{glGetModelViewMatrix}!aruco::Marker@{aruco::Marker}}
\doxysubsubsection{\texorpdfstring{glGetModelViewMatrix()}{glGetModelViewMatrix()}}
{\footnotesize\ttfamily void aruco\+::\+Marker\+::gl\+Get\+Model\+View\+Matrix (\begin{DoxyParamCaption}\item[{double}]{modelview\+\_\+matrix\mbox{[}16\mbox{]} }\end{DoxyParamCaption}) throw ( cv\+::\+Exception) }

Given the extrinsic camera parameters returns the GL\+\_\+\+MODELVIEW matrix for opengl. Setting this matrix, the reference coordinate system will be set in this marker 

Definition at line 74 of file marker.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{75   \{}
\DoxyCodeLine{76     \textcolor{comment}{//check if paremeters are valid}}
\DoxyCodeLine{77     \textcolor{keywordtype}{bool} invalid=\textcolor{keyword}{false};}
\DoxyCodeLine{78     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<3 \&\& !invalid ;i++)}
\DoxyCodeLine{79     \{}
\DoxyCodeLine{80       invalid |= std::isnan(\mbox{\hyperlink{classaruco_1_1Marker_a14068630efdf1a5f665a2dcb34e496d0}{Tvec}}.at<\textcolor{keywordtype}{float}>(i,0));}
\DoxyCodeLine{81       invalid |= std::isnan(\mbox{\hyperlink{classaruco_1_1Marker_a5f31be5060bf2a6762890a1a54c98cfd}{Rvec}}.at<\textcolor{keywordtype}{float}>(i,0));}
\DoxyCodeLine{82     \}}
\DoxyCodeLine{83     \textcolor{keywordflow}{if} (invalid) \textcolor{keywordflow}{throw} cv::Exception(9003,\textcolor{stringliteral}{"{}extrinsic parameters are not set"{}},\textcolor{stringliteral}{"{}Marker::getModelViewMatrix"{}},\_\_FILE\_\_,\_\_LINE\_\_);}
\DoxyCodeLine{84     Mat Rot(3,3,CV\_32FC1),Jacob;}
\DoxyCodeLine{85     Rodrigues(\mbox{\hyperlink{classaruco_1_1Marker_a5f31be5060bf2a6762890a1a54c98cfd}{Rvec}}, Rot, Jacob);}
\DoxyCodeLine{86 }
\DoxyCodeLine{87     \textcolor{keywordtype}{double} para[3][4];}
\DoxyCodeLine{88     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<3;i++)}
\DoxyCodeLine{89       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j=0;j<3;j++) para[i][j]=Rot.at<\textcolor{keywordtype}{float}>(i,j);}
\DoxyCodeLine{90     \textcolor{comment}{//now, add the translation}}
\DoxyCodeLine{91     para[0][3]=\mbox{\hyperlink{classaruco_1_1Marker_a14068630efdf1a5f665a2dcb34e496d0}{Tvec}}.at<\textcolor{keywordtype}{float}>(0,0);}
\DoxyCodeLine{92     para[1][3]=\mbox{\hyperlink{classaruco_1_1Marker_a14068630efdf1a5f665a2dcb34e496d0}{Tvec}}.at<\textcolor{keywordtype}{float}>(1,0);}
\DoxyCodeLine{93     para[2][3]=\mbox{\hyperlink{classaruco_1_1Marker_a14068630efdf1a5f665a2dcb34e496d0}{Tvec}}.at<\textcolor{keywordtype}{float}>(2,0);}
\DoxyCodeLine{94     \textcolor{keywordtype}{double} scale=1;}
\DoxyCodeLine{95 }
\DoxyCodeLine{96     modelview\_matrix[0 + 0*4] = para[0][0];}
\DoxyCodeLine{97     \textcolor{comment}{// R1C2}}
\DoxyCodeLine{98     modelview\_matrix[0 + 1*4] = para[0][1];}
\DoxyCodeLine{99     modelview\_matrix[0 + 2*4] = para[0][2];}
\DoxyCodeLine{100     modelview\_matrix[0 + 3*4] = para[0][3];}
\DoxyCodeLine{101     \textcolor{comment}{// R2}}
\DoxyCodeLine{102     modelview\_matrix[1 + 0*4] = para[1][0];}
\DoxyCodeLine{103     modelview\_matrix[1 + 1*4] = para[1][1];}
\DoxyCodeLine{104     modelview\_matrix[1 + 2*4] = para[1][2];}
\DoxyCodeLine{105     modelview\_matrix[1 + 3*4] = para[1][3];}
\DoxyCodeLine{106     \textcolor{comment}{// R3}}
\DoxyCodeLine{107     modelview\_matrix[2 + 0*4] = -\/para[2][0];}
\DoxyCodeLine{108     modelview\_matrix[2 + 1*4] = -\/para[2][1];}
\DoxyCodeLine{109     modelview\_matrix[2 + 2*4] = -\/para[2][2];}
\DoxyCodeLine{110     modelview\_matrix[2 + 3*4] = -\/para[2][3];}
\DoxyCodeLine{111     modelview\_matrix[3 + 0*4] = 0.0;}
\DoxyCodeLine{112     modelview\_matrix[3 + 1*4] = 0.0;}
\DoxyCodeLine{113     modelview\_matrix[3 + 2*4] = 0.0;}
\DoxyCodeLine{114     modelview\_matrix[3 + 3*4] = 1.0;}
\DoxyCodeLine{115     \textcolor{keywordflow}{if} (scale > 0.0)}
\DoxyCodeLine{116     \{}
\DoxyCodeLine{117       modelview\_matrix[12] *= scale;}
\DoxyCodeLine{118       modelview\_matrix[13] *= scale;}
\DoxyCodeLine{119       modelview\_matrix[14] *= scale;}
\DoxyCodeLine{120     \}}
\DoxyCodeLine{121   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classaruco_1_1Marker_aa546c0b79bf647c18b394be6743e235b}\label{classaruco_1_1Marker_aa546c0b79bf647c18b394be6743e235b}} 
\index{aruco::Marker@{aruco::Marker}!isValid@{isValid}}
\index{isValid@{isValid}!aruco::Marker@{aruco::Marker}}
\doxysubsubsection{\texorpdfstring{isValid()}{isValid()}}
{\footnotesize\ttfamily bool aruco\+::\+Marker\+::is\+Valid (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Indicates if this object is valid 

Definition at line 65 of file marker.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{65 \{\textcolor{keywordflow}{return} \textcolor{keywordtype}{id}!=-\/1 \&\& size()==4;\}}

\end{DoxyCode}
\mbox{\Hypertarget{classaruco_1_1Marker_a468cf05d41362659fa682919744fb035}\label{classaruco_1_1Marker_a468cf05d41362659fa682919744fb035}} 
\index{aruco::Marker@{aruco::Marker}!OgreGetPoseParameters@{OgreGetPoseParameters}}
\index{OgreGetPoseParameters@{OgreGetPoseParameters}!aruco::Marker@{aruco::Marker}}
\doxysubsubsection{\texorpdfstring{OgreGetPoseParameters()}{OgreGetPoseParameters()}}
{\footnotesize\ttfamily void aruco\+::\+Marker\+::\+Ogre\+Get\+Pose\+Parameters (\begin{DoxyParamCaption}\item[{double}]{position\mbox{[}3\mbox{]},  }\item[{double}]{orientation\mbox{[}4\mbox{]} }\end{DoxyParamCaption}) throw ( cv\+::\+Exception) }

Returns position vector and orientation quaternion for an Ogre scene node or entity. Use\+: ... Ogre\+::\+Vector3 ogre\+Pos (position\mbox{[}0\mbox{]}, position\mbox{[}1\mbox{]}, position\mbox{[}2\mbox{]}); Ogre\+::\+Quaternion ogre\+Orient (orientation\mbox{[}0\mbox{]}, orientation\mbox{[}1\mbox{]}, orientation\mbox{[}2\mbox{]}, orientation\mbox{[}3\mbox{]}); my\+Scene\+Node-\/$>$set\+Position( ogre\+Pos  ); my\+Scene\+Node-\/$>$set\+Orientation( ogre\+Orient  ); ... 

Definition at line 128 of file marker.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{129   \{}
\DoxyCodeLine{130     \textcolor{comment}{//check if paremeters are valid}}
\DoxyCodeLine{131     \textcolor{keywordtype}{bool} invalid=\textcolor{keyword}{false};}
\DoxyCodeLine{132     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<3 \&\& !invalid ;i++)}
\DoxyCodeLine{133     \{}
\DoxyCodeLine{134       invalid |= std::isnan(\mbox{\hyperlink{classaruco_1_1Marker_a14068630efdf1a5f665a2dcb34e496d0}{Tvec}}.at<\textcolor{keywordtype}{float}>(i,0));}
\DoxyCodeLine{135       invalid |= std::isnan(\mbox{\hyperlink{classaruco_1_1Marker_a5f31be5060bf2a6762890a1a54c98cfd}{Rvec}}.at<\textcolor{keywordtype}{float}>(i,0));}
\DoxyCodeLine{136     \}}
\DoxyCodeLine{137     \textcolor{keywordflow}{if} (invalid) \textcolor{keywordflow}{throw} cv::Exception(9003,\textcolor{stringliteral}{"{}extrinsic parameters are not set"{}},\textcolor{stringliteral}{"{}Marker::getModelViewMatrix"{}},\_\_FILE\_\_,\_\_LINE\_\_);}
\DoxyCodeLine{138     }
\DoxyCodeLine{139     \textcolor{comment}{// calculate position vector}}
\DoxyCodeLine{140     position[0] = \mbox{\hyperlink{classaruco_1_1Marker_a14068630efdf1a5f665a2dcb34e496d0}{Tvec}}.ptr<\textcolor{keywordtype}{float}>(0)[0];}
\DoxyCodeLine{141     position[1] = \mbox{\hyperlink{classaruco_1_1Marker_a14068630efdf1a5f665a2dcb34e496d0}{Tvec}}.ptr<\textcolor{keywordtype}{float}>(0)[1];}
\DoxyCodeLine{142     position[2] = +\mbox{\hyperlink{classaruco_1_1Marker_a14068630efdf1a5f665a2dcb34e496d0}{Tvec}}.ptr<\textcolor{keywordtype}{float}>(0)[2];}
\DoxyCodeLine{143     }
\DoxyCodeLine{144     \textcolor{comment}{// now calculare orientation quaternion}}
\DoxyCodeLine{145     cv::Mat Rot(3,3,CV\_32FC1);}
\DoxyCodeLine{146     cv::Rodrigues(\mbox{\hyperlink{classaruco_1_1Marker_a5f31be5060bf2a6762890a1a54c98cfd}{Rvec}}, Rot);}
\DoxyCodeLine{147     }
\DoxyCodeLine{148     \textcolor{comment}{// calculate axes for quaternion}}
\DoxyCodeLine{149     \textcolor{keywordtype}{double} stAxes[3][3];}
\DoxyCodeLine{150     \textcolor{comment}{// x axis}}
\DoxyCodeLine{151     stAxes[0][0] = -\/Rot.at<\textcolor{keywordtype}{float}>(0,0);}
\DoxyCodeLine{152     stAxes[0][1] = -\/Rot.at<\textcolor{keywordtype}{float}>(1,0);}
\DoxyCodeLine{153     stAxes[0][2] = +Rot.at<\textcolor{keywordtype}{float}>(2,0);}
\DoxyCodeLine{154     \textcolor{comment}{// y axis}}
\DoxyCodeLine{155     stAxes[1][0] = -\/Rot.at<\textcolor{keywordtype}{float}>(0,1);}
\DoxyCodeLine{156     stAxes[1][1] = -\/Rot.at<\textcolor{keywordtype}{float}>(1,1);}
\DoxyCodeLine{157     stAxes[1][2] = +Rot.at<\textcolor{keywordtype}{float}>(2,1);}
\DoxyCodeLine{158     \textcolor{comment}{// for z axis, we use cross product}}
\DoxyCodeLine{159     stAxes[2][0] = stAxes[0][1]*stAxes[1][2] -\/ stAxes[0][2]*stAxes[1][1];}
\DoxyCodeLine{160     stAxes[2][1] = -\/ stAxes[0][0]*stAxes[1][2] + stAxes[0][2]*stAxes[1][0];}
\DoxyCodeLine{161     stAxes[2][2] = stAxes[0][0]*stAxes[1][1] -\/ stAxes[0][1]*stAxes[1][0];}
\DoxyCodeLine{162     }
\DoxyCodeLine{163     \textcolor{comment}{// transposed matrix}}
\DoxyCodeLine{164     \textcolor{keywordtype}{double} axes[3][3];}
\DoxyCodeLine{165     axes[0][0] = stAxes[0][0];}
\DoxyCodeLine{166     axes[1][0] = stAxes[0][1];}
\DoxyCodeLine{167     axes[2][0] = stAxes[0][2];}
\DoxyCodeLine{168     }
\DoxyCodeLine{169     axes[0][1] = stAxes[1][0];}
\DoxyCodeLine{170     axes[1][1] = stAxes[1][1];}
\DoxyCodeLine{171     axes[2][1] = stAxes[1][2];}
\DoxyCodeLine{172     }
\DoxyCodeLine{173     axes[0][2] = stAxes[2][0];}
\DoxyCodeLine{174     axes[1][2] = stAxes[2][1];}
\DoxyCodeLine{175     axes[2][2] = stAxes[2][2];}
\DoxyCodeLine{176     }
\DoxyCodeLine{177     \textcolor{comment}{// Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes}}
\DoxyCodeLine{178     \textcolor{comment}{// article "{}Quaternion Calculus and Fast Animation"{}.}}
\DoxyCodeLine{179     \textcolor{keywordtype}{double} fTrace = axes[0][0]+axes[1][1]+axes[2][2];}
\DoxyCodeLine{180     \textcolor{keywordtype}{double} fRoot;}
\DoxyCodeLine{181 }
\DoxyCodeLine{182     \textcolor{keywordflow}{if} ( fTrace > 0.0 )}
\DoxyCodeLine{183     \{}
\DoxyCodeLine{184       \textcolor{comment}{// |w| > 1/2, may as well choose w > 1/2}}
\DoxyCodeLine{185       fRoot = sqrt(fTrace + 1.0);  \textcolor{comment}{// 2w}}
\DoxyCodeLine{186       orientation[0] = 0.5*fRoot;}
\DoxyCodeLine{187       fRoot = 0.5/fRoot;  \textcolor{comment}{// 1/(4w)}}
\DoxyCodeLine{188       orientation[1] = (axes[2][1]-\/axes[1][2])*fRoot;}
\DoxyCodeLine{189       orientation[2] = (axes[0][2]-\/axes[2][0])*fRoot;}
\DoxyCodeLine{190       orientation[3] = (axes[1][0]-\/axes[0][1])*fRoot;}
\DoxyCodeLine{191     \}}
\DoxyCodeLine{192     \textcolor{keywordflow}{else}}
\DoxyCodeLine{193     \{}
\DoxyCodeLine{194       \textcolor{comment}{// |w| <= 1/2}}
\DoxyCodeLine{195       \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} s\_iNext[3] = \{ 1, 2, 0 \};}
\DoxyCodeLine{196       \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{197       \textcolor{keywordflow}{if} ( axes[1][1] > axes[0][0] )}
\DoxyCodeLine{198         i = 1;}
\DoxyCodeLine{199       \textcolor{keywordflow}{if} ( axes[2][2] > axes[i][i] )}
\DoxyCodeLine{200         i = 2;}
\DoxyCodeLine{201       \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} j = s\_iNext[i];}
\DoxyCodeLine{202       \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} k = s\_iNext[j];}
\DoxyCodeLine{203 }
\DoxyCodeLine{204       fRoot = sqrt(axes[i][i]-\/axes[j][j]-\/axes[k][k] + 1.0);}
\DoxyCodeLine{205       \textcolor{keywordtype}{double}* apkQuat[3] = \{ \&orientation[1], \&orientation[2], \&orientation[3] \};}
\DoxyCodeLine{206       *apkQuat[i] = 0.5*fRoot;}
\DoxyCodeLine{207       fRoot = 0.5/fRoot;}
\DoxyCodeLine{208       orientation[0] = (axes[k][j]-\/axes[j][k])*fRoot;}
\DoxyCodeLine{209       *apkQuat[j] = (axes[j][i]+axes[i][j])*fRoot;}
\DoxyCodeLine{210       *apkQuat[k] = (axes[k][i]+axes[i][k])*fRoot;}
\DoxyCodeLine{211     \}}
\DoxyCodeLine{212   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classaruco_1_1Marker_a4a74c23e584bee84a035209b7c7d8205}\label{classaruco_1_1Marker_a4a74c23e584bee84a035209b7c7d8205}} 
\index{aruco::Marker@{aruco::Marker}!rotateXAxis@{rotateXAxis}}
\index{rotateXAxis@{rotateXAxis}!aruco::Marker@{aruco::Marker}}
\doxysubsubsection{\texorpdfstring{rotateXAxis()}{rotateXAxis()}}
{\footnotesize\ttfamily void aruco\+::\+Marker\+::rotate\+XAxis (\begin{DoxyParamCaption}\item[{cv\+::\+Mat \&}]{rotation }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 292 of file marker.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{293   \{}
\DoxyCodeLine{294     cv::Mat R(3,3,CV\_32F);}
\DoxyCodeLine{295     cv::Rodrigues(rotation, R);}
\DoxyCodeLine{296     \textcolor{comment}{//create a rotation matrix for x axis}}
\DoxyCodeLine{297     cv::Mat RX=cv::Mat::eye(3,3,CV\_32F);}
\DoxyCodeLine{298     \textcolor{keywordtype}{float} angleRad=M\_PI/2;}
\DoxyCodeLine{299     RX.at<\textcolor{keywordtype}{float}>(1,1)=cos(angleRad);}
\DoxyCodeLine{300     RX.at<\textcolor{keywordtype}{float}>(1,2)=-\/sin(angleRad);}
\DoxyCodeLine{301     RX.at<\textcolor{keywordtype}{float}>(2,1)=sin(angleRad);}
\DoxyCodeLine{302     RX.at<\textcolor{keywordtype}{float}>(2,2)=cos(angleRad);}
\DoxyCodeLine{303     \textcolor{comment}{//now multiply}}
\DoxyCodeLine{304     R=R*RX;}
\DoxyCodeLine{305     \textcolor{comment}{//finally, the the rodrigues back}}
\DoxyCodeLine{306     cv::Rodrigues(R,rotation);}
\DoxyCodeLine{307   \}}

\end{DoxyCode}


\doxysubsection{Friends And Related Function Documentation}
\mbox{\Hypertarget{classaruco_1_1Marker_a19de3d60e4cd6ddaf3df606158049a0c}\label{classaruco_1_1Marker_a19de3d60e4cd6ddaf3df606158049a0c}} 
\index{aruco::Marker@{aruco::Marker}!operator$<$@{operator$<$}}
\index{operator$<$@{operator$<$}!aruco::Marker@{aruco::Marker}}
\doxysubsubsection{\texorpdfstring{operator$<$}{operator<}}
{\footnotesize\ttfamily bool operator$<$ (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classaruco_1_1Marker}{Marker}} \&}]{M1,  }\item[{const \mbox{\hyperlink{classaruco_1_1Marker}{Marker}} \&}]{M2 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [friend]}}



Definition at line 115 of file marker.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{116     \{}
\DoxyCodeLine{117         \textcolor{keywordflow}{return} M1.id<M2.id;}
\DoxyCodeLine{118     \}}

\end{DoxyCode}
\mbox{\Hypertarget{classaruco_1_1Marker_a191f20f61955983c0475ae4b141657ef}\label{classaruco_1_1Marker_a191f20f61955983c0475ae4b141657ef}} 
\index{aruco::Marker@{aruco::Marker}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!aruco::Marker@{aruco::Marker}}
\doxysubsubsection{\texorpdfstring{operator$<$$<$}{operator<<}}
{\footnotesize\ttfamily ostream\& operator$<$$<$ (\begin{DoxyParamCaption}\item[{ostream \&}]{str,  }\item[{const \mbox{\hyperlink{classaruco_1_1Marker}{Marker}} \&}]{M }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [friend]}}



Definition at line 121 of file marker.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{122     \{}
\DoxyCodeLine{123         str<<M.id<<\textcolor{stringliteral}{"{}="{}};}
\DoxyCodeLine{124         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<4;i++)}
\DoxyCodeLine{125             str<<\textcolor{stringliteral}{"{}("{}}<<M[i].x<< \textcolor{stringliteral}{"{},"{}}<<M[i].y<<\textcolor{stringliteral}{"{}) "{}};}
\DoxyCodeLine{126         str<<\textcolor{stringliteral}{"{}Txyz="{}};}
\DoxyCodeLine{127         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<3;i++)}
\DoxyCodeLine{128             str<<M.Tvec.ptr<\textcolor{keywordtype}{float}>(0)[i]<<\textcolor{stringliteral}{"{} "{}};}
\DoxyCodeLine{129         str<<\textcolor{stringliteral}{"{}Rxyz="{}};}
\DoxyCodeLine{130         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<3;i++)}
\DoxyCodeLine{131             str<<M.Rvec.ptr<\textcolor{keywordtype}{float}>(0)[i]<<\textcolor{stringliteral}{"{} "{}};}
\DoxyCodeLine{132 }
\DoxyCodeLine{133         \textcolor{keywordflow}{return} str;}
\DoxyCodeLine{134     \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
aruco/include/aruco/\mbox{\hyperlink{marker_8h}{marker.\+h}}\item 
aruco/src/aruco/\mbox{\hyperlink{marker_8cpp}{marker.\+cpp}}\end{DoxyCompactItemize}
